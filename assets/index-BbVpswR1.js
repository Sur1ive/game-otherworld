var Ws=Object.defineProperty;var Fs=(e,t,n)=>t in e?Ws(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var W=(e,t,n)=>Fs(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var ji=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wi={};/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Fi;function Vs(){if(Fi)return Wi;Fi=1;var e;return function(t){(function(n){var i=typeof globalThis=="object"?globalThis:typeof ji=="object"?ji:typeof self=="object"?self:typeof this=="object"?this:l(),r=s(t);typeof i.Reflect<"u"&&(r=s(i.Reflect,r)),n(r,i),typeof i.Reflect>"u"&&(i.Reflect=t);function s(c,u){return function(v,g){Object.defineProperty(c,v,{configurable:!0,writable:!0,value:g}),u&&u(v,g)}}function o(){try{return Function("return this;")()}catch{}}function a(){try{return(0,eval)("(function() { return this; })()")}catch{}}function l(){return o()||a()}})(function(n,i){var r=Object.prototype.hasOwnProperty,s=typeof Symbol=="function",o=s&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",a=s&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",l=typeof Object.create=="function",c={__proto__:[]}instanceof Array,u=!l&&!c,v={create:l?function(){return Vn(Object.create(null))}:c?function(){return Vn({__proto__:null})}:function(){return Vn({})},has:u?function(d,f){return r.call(d,f)}:function(d,f){return f in d},get:u?function(d,f){return r.call(d,f)?d[f]:void 0}:function(d,f){return d[f]}},g=Object.getPrototypeOf(Function),E=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:un(),k=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Gs(),M=typeof WeakMap=="function"?WeakMap:zs(),T=s?Symbol.for("@reflect-metadata:registry"):void 0,P=ze(),R=ln(P);function I(d,f,h,y){if($(h)){if(!rn(d))throw new TypeError;if(!sn(f))throw new TypeError;return tt(d,f)}else{if(!rn(d))throw new TypeError;if(!V(f))throw new TypeError;if(!V(y)&&!$(y)&&!mt(y))throw new TypeError;return mt(y)&&(y=void 0),h=ut(h),Et(d,f,h,y)}}n("decorate",I);function L(d,f){function h(y,D){if(!V(y))throw new TypeError;if(!$(D)&&!Fn(D))throw new TypeError;Dt(d,f,y,D)}return h}n("metadata",L);function x(d,f,h,y){if(!V(h))throw new TypeError;return $(y)||(y=ut(y)),Dt(d,f,h,y)}n("defineMetadata",x);function N(d,f,h){if(!V(f))throw new TypeError;return $(h)||(h=ut(h)),ct(d,f,h)}n("hasMetadata",N);function F(d,f,h){if(!V(f))throw new TypeError;return $(h)||(h=ut(h)),H(d,f,h)}n("hasOwnMetadata",F);function G(d,f,h){if(!V(f))throw new TypeError;return $(h)||(h=ut(h)),Y(d,f,h)}n("getMetadata",G);function Q(d,f,h){if(!V(f))throw new TypeError;return $(h)||(h=ut(h)),Zt(d,f,h)}n("getOwnMetadata",Q);function U(d,f){if(!V(d))throw new TypeError;return $(f)||(f=ut(f)),te(d,f)}n("getMetadataKeys",U);function X(d,f){if(!V(d))throw new TypeError;return $(f)||(f=ut(f)),pe(d,f)}n("getOwnMetadataKeys",X);function st(d,f,h){if(!V(f))throw new TypeError;if($(h)||(h=ut(h)),!V(f))throw new TypeError;$(h)||(h=ut(h));var y=Wt(f,h,!1);return $(y)?!1:y.OrdinaryDeleteMetadata(d,f,h)}n("deleteMetadata",st);function tt(d,f){for(var h=d.length-1;h>=0;--h){var y=d[h],D=y(f);if(!$(D)&&!mt(D)){if(!sn(D))throw new TypeError;f=D}}return f}function Et(d,f,h,y){for(var D=d.length-1;D>=0;--D){var J=d[D],et=J(f,h,y);if(!$(et)&&!mt(et)){if(!V(et))throw new TypeError;y=et}}return y}function ct(d,f,h){var y=H(d,f,h);if(y)return!0;var D=_e(f);return mt(D)?!1:ct(d,D,h)}function H(d,f,h){var y=Wt(f,h,!1);return $(y)?!1:ge(y.OrdinaryHasOwnMetadata(d,f,h))}function Y(d,f,h){var y=H(d,f,h);if(y)return Zt(d,f,h);var D=_e(f);if(!mt(D))return Y(d,D,h)}function Zt(d,f,h){var y=Wt(f,h,!1);if(!$(y))return y.OrdinaryGetOwnMetadata(d,f,h)}function Dt(d,f,h,y){var D=Wt(h,y,!0);D.OrdinaryDefineOwnMetadata(d,f,h,y)}function te(d,f){var h=pe(d,f),y=_e(d);if(y===null)return h;var D=te(y,f);if(D.length<=0)return h;if(h.length<=0)return D;for(var J=new k,et=[],B=0,w=h;B<w.length;B++){var A=w[B],S=J.has(A);S||(J.add(A),et.push(A))}for(var C=0,j=D;C<j.length;C++){var A=j[C],S=J.has(A);S||(J.add(A),et.push(A))}return et}function pe(d,f){var h=Wt(d,f,!1);return h?h.OrdinaryOwnMetadataKeys(d,f):[]}function jt(d){if(d===null)return 1;switch(typeof d){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return d===null?1:6;default:return 6}}function $(d){return d===void 0}function mt(d){return d===null}function Nt(d){return typeof d=="symbol"}function V(d){return typeof d=="object"?d!==null:typeof d=="function"}function he(d,f){switch(jt(d)){case 0:return d;case 1:return d;case 2:return d;case 3:return d;case 4:return d;case 5:return d}var h="string",y=Ge(d,o);if(y!==void 0){var D=y.call(d,h);if(V(D))throw new TypeError;return D}return Rt(d)}function Rt(d,f){var h,y,D;{var J=d.toString;if(ee(J)){var y=J.call(d);if(!V(y))return y}var h=d.valueOf;if(ee(h)){var y=h.call(d);if(!V(y))return y}}throw new TypeError}function ge(d){return!!d}function Wn(d){return""+d}function ut(d){var f=he(d);return Nt(f)?f:Wn(f)}function rn(d){return Array.isArray?Array.isArray(d):d instanceof Object?d instanceof Array:Object.prototype.toString.call(d)==="[object Array]"}function ee(d){return typeof d=="function"}function sn(d){return typeof d=="function"}function Fn(d){switch(jt(d)){case 3:return!0;case 4:return!0;default:return!1}}function me(d,f){return d===f||d!==d&&f!==f}function Ge(d,f){var h=d[f];if(h!=null){if(!ee(h))throw new TypeError;return h}}function on(d){var f=Ge(d,a);if(!ee(f))throw new TypeError;var h=f.call(d);if(!V(h))throw new TypeError;return h}function an(d){return d.value}function kt(d){var f=d.next();return f.done?!1:f}function ne(d){var f=d.return;f&&f.call(d)}function _e(d){var f=Object.getPrototypeOf(d);if(typeof d!="function"||d===g||f!==g)return f;var h=d.prototype,y=h&&Object.getPrototypeOf(h);if(y==null||y===Object.prototype)return f;var D=y.constructor;return typeof D!="function"||D===d?f:D}function cn(){var d;!$(T)&&typeof i.Reflect<"u"&&!(T in i.Reflect)&&typeof i.Reflect.defineMetadata=="function"&&(d=dn(i.Reflect));var f,h,y,D=new M,J={registerProvider:et,getProvider:w,setProvider:S};return J;function et(C){if(!Object.isExtensible(J))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case d===C:break;case $(f):f=C;break;case f===C:break;case $(h):h=C;break;case h===C:break;default:y===void 0&&(y=new k),y.add(C);break}}function B(C,j){if(!$(f)){if(f.isProviderFor(C,j))return f;if(!$(h)){if(h.isProviderFor(C,j))return f;if(!$(y))for(var K=on(y);;){var Z=kt(K);if(!Z)return;var Ot=an(Z);if(Ot.isProviderFor(C,j))return ne(K),Ot}}}if(!$(d)&&d.isProviderFor(C,j))return d}function w(C,j){var K=D.get(C),Z;return $(K)||(Z=K.get(j)),$(Z)&&(Z=B(C,j),$(Z)||($(K)&&(K=new E,D.set(C,K)),K.set(j,Z))),Z}function A(C){if($(C))throw new TypeError;return f===C||h===C||!$(y)&&y.has(C)}function S(C,j,K){if(!A(K))throw new Error("Metadata provider not registered.");var Z=w(C,j);if(Z!==K){if(!$(Z))return!1;var Ot=D.get(C);$(Ot)&&(Ot=new E,D.set(C,Ot)),Ot.set(j,K)}return!0}}function ze(){var d;return!$(T)&&V(i.Reflect)&&Object.isExtensible(i.Reflect)&&(d=i.Reflect[T]),$(d)&&(d=cn()),!$(T)&&V(i.Reflect)&&Object.isExtensible(i.Reflect)&&Object.defineProperty(i.Reflect,T,{enumerable:!1,configurable:!1,writable:!1,value:d}),d}function ln(d){var f=new M,h={isProviderFor:function(A,S){var C=f.get(A);return $(C)?!1:C.has(S)},OrdinaryDefineOwnMetadata:et,OrdinaryHasOwnMetadata:D,OrdinaryGetOwnMetadata:J,OrdinaryOwnMetadataKeys:B,OrdinaryDeleteMetadata:w};return P.registerProvider(h),h;function y(A,S,C){var j=f.get(A),K=!1;if($(j)){if(!C)return;j=new E,f.set(A,j),K=!0}var Z=j.get(S);if($(Z)){if(!C)return;if(Z=new E,j.set(S,Z),!d.setProvider(A,S,h))throw j.delete(S),K&&f.delete(A),new Error("Wrong provider for target.")}return Z}function D(A,S,C){var j=y(S,C,!1);return $(j)?!1:ge(j.has(A))}function J(A,S,C){var j=y(S,C,!1);if(!$(j))return j.get(A)}function et(A,S,C,j){var K=y(C,j,!0);K.set(A,S)}function B(A,S){var C=[],j=y(A,S,!1);if($(j))return C;for(var K=j.keys(),Z=on(K),Ot=0;;){var Bi=kt(Z);if(!Bi)return C.length=Ot,C;var Bs=an(Bi);try{C[Ot]=Bs}catch(js){try{ne(Z)}finally{throw js}}Ot++}}function w(A,S,C){var j=y(S,C,!1);if($(j)||!j.delete(A))return!1;if(j.size===0){var K=f.get(S);$(K)||(K.delete(C),K.size===0&&f.delete(K))}return!0}}function dn(d){var f=d.defineMetadata,h=d.hasOwnMetadata,y=d.getOwnMetadata,D=d.getOwnMetadataKeys,J=d.deleteMetadata,et=new M,B={isProviderFor:function(w,A){var S=et.get(w);return!$(S)&&S.has(A)?!0:D(w,A).length?($(S)&&(S=new k,et.set(w,S)),S.add(A),!0):!1},OrdinaryDefineOwnMetadata:f,OrdinaryHasOwnMetadata:h,OrdinaryGetOwnMetadata:y,OrdinaryOwnMetadataKeys:D,OrdinaryDeleteMetadata:J};return B}function Wt(d,f,h){var y=P.getProvider(d,f);if(!$(y))return y;if(h){if(P.setProvider(d,f,R))return R;throw new Error("Illegal state.")}}function un(){var d={},f=[],h=function(){function B(w,A,S){this._index=0,this._keys=w,this._values=A,this._selector=S}return B.prototype["@@iterator"]=function(){return this},B.prototype[a]=function(){return this},B.prototype.next=function(){var w=this._index;if(w>=0&&w<this._keys.length){var A=this._selector(this._keys[w],this._values[w]);return w+1>=this._keys.length?(this._index=-1,this._keys=f,this._values=f):this._index++,{value:A,done:!1}}return{value:void 0,done:!0}},B.prototype.throw=function(w){throw this._index>=0&&(this._index=-1,this._keys=f,this._values=f),w},B.prototype.return=function(w){return this._index>=0&&(this._index=-1,this._keys=f,this._values=f),{value:w,done:!0}},B}(),y=function(){function B(){this._keys=[],this._values=[],this._cacheKey=d,this._cacheIndex=-2}return Object.defineProperty(B.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),B.prototype.has=function(w){return this._find(w,!1)>=0},B.prototype.get=function(w){var A=this._find(w,!1);return A>=0?this._values[A]:void 0},B.prototype.set=function(w,A){var S=this._find(w,!0);return this._values[S]=A,this},B.prototype.delete=function(w){var A=this._find(w,!1);if(A>=0){for(var S=this._keys.length,C=A+1;C<S;C++)this._keys[C-1]=this._keys[C],this._values[C-1]=this._values[C];return this._keys.length--,this._values.length--,me(w,this._cacheKey)&&(this._cacheKey=d,this._cacheIndex=-2),!0}return!1},B.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=d,this._cacheIndex=-2},B.prototype.keys=function(){return new h(this._keys,this._values,D)},B.prototype.values=function(){return new h(this._keys,this._values,J)},B.prototype.entries=function(){return new h(this._keys,this._values,et)},B.prototype["@@iterator"]=function(){return this.entries()},B.prototype[a]=function(){return this.entries()},B.prototype._find=function(w,A){if(!me(this._cacheKey,w)){this._cacheIndex=-1;for(var S=0;S<this._keys.length;S++)if(me(this._keys[S],w)){this._cacheIndex=S;break}}return this._cacheIndex<0&&A&&(this._cacheIndex=this._keys.length,this._keys.push(w),this._values.push(void 0)),this._cacheIndex},B}();return y;function D(B,w){return B}function J(B,w){return w}function et(B,w){return[B,w]}}function Gs(){var d=function(){function f(){this._map=new E}return Object.defineProperty(f.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),f.prototype.has=function(h){return this._map.has(h)},f.prototype.add=function(h){return this._map.set(h,h),this},f.prototype.delete=function(h){return this._map.delete(h)},f.prototype.clear=function(){this._map.clear()},f.prototype.keys=function(){return this._map.keys()},f.prototype.values=function(){return this._map.keys()},f.prototype.entries=function(){return this._map.entries()},f.prototype["@@iterator"]=function(){return this.keys()},f.prototype[a]=function(){return this.keys()},f}();return d}function zs(){var d=16,f=v.create(),h=y();return function(){function w(){this._key=y()}return w.prototype.has=function(A){var S=D(A,!1);return S!==void 0?v.has(S,this._key):!1},w.prototype.get=function(A){var S=D(A,!1);return S!==void 0?v.get(S,this._key):void 0},w.prototype.set=function(A,S){var C=D(A,!0);return C[this._key]=S,this},w.prototype.delete=function(A){var S=D(A,!1);return S!==void 0?delete S[this._key]:!1},w.prototype.clear=function(){this._key=y()},w}();function y(){var w;do w="@@WeakMap@@"+B();while(v.has(f,w));return f[w]=!0,w}function D(w,A){if(!r.call(w,h)){if(!A)return;Object.defineProperty(w,h,{value:v.create()})}return w[h]}function J(w,A){for(var S=0;S<A;++S)w[S]=Math.random()*255|0;return w}function et(w){if(typeof Uint8Array=="function"){var A=new Uint8Array(w);return typeof crypto<"u"?crypto.getRandomValues(A):typeof msCrypto<"u"?msCrypto.getRandomValues(A):J(A,w),A}return J(new Array(w),w)}function B(){var w=et(d);w[6]=w[6]&79|64,w[8]=w[8]&191|128;for(var A="",S=0;S<d;++S){var C=w[S];(S===4||S===6||S===8)&&(A+="-"),C<16&&(A+="0"),A+=C.toString(16).toLowerCase()}return A}}function Vn(d){return d.__=void 0,delete d.__,d}})}(e||(e={})),Wi}Vs();var _=(e=>(e[e.Common=0]="Common",e[e.Rare=1]="Rare",e[e.Masterpiece=2]="Masterpiece",e[e.Epic=3]="Epic",e[e.Mythical=4]="Mythical",e[e.Unique=5]="Unique",e))(_||{}),at=(e=>(e.PlayerWin="PlayerWin",e.EnemyWin="EnemyWin",e.Draw="Draw",e))(at||{}),ae=(e=>(e.Consumable="Consumable",e.Equipment="Equipment",e))(ae||{}),it=(e=>(e.Body="body",e.Hand="hand",e.Foot="foot",e.Accessory="accessory",e))(it||{}),p=(e=>(e.Attack="Attack",e.Defend="Defend",e.Dodge="Dodge",e.Capture="Capture",e.Special="Special",e.None="None",e))(p||{}),_t=(e=>(e.Permanent="Permanent",e.Turn="Turn",e.Action="Action",e.Hit="Hit",e.Second="Second",e))(_t||{}),ot=(e=>(e.OnSecond="OnSecond",e.OnTurnStart="OnTurnStart",e.OnHitStart="OnHitStart",e))(ot||{}),ie=(e=>(e.SpiritBlade="SpiritBlade",e.RedBlade="RedBlade",e.Pain="Pain",e.Unbalance="Unbalance",e.Wound="Wound",e.Burning="Burning",e.QuickRecovery="QuickRecovery",e.Dizzy="Dizzy",e))(ie||{});const xe={SpiritBlade:{name:"气刃",description:"可以释放气刃大回旋",durationType:_t.Turn,category:ot.OnTurnStart,priority:1,effect:(e,t,n)=>(t=nt[b.SpiritRoundSlash],{action1:t,action2:n})},RedBlade:{name:"红刃",description:"可以释放登龙",durationType:_t.Turn,category:ot.OnTurnStart,priority:1,effect:(e,t,n)=>(t=nt[b.HelmBreaker],{action1:t,action2:n})},Pain:{name:"痛苦",description:"有概率因痛苦而无法行动",durationType:_t.Turn,category:ot.OnTurnStart,priority:999,effect:(e,t,n)=>(Math.random()<.1&&(t=nt[b.Stun],n=nt[b.Stun]),{action1:t,action2:n})},Unbalance:{name:"失衡",description:"重心不稳，丢失当前Hit",durationType:_t.Hit,category:ot.OnHitStart,priority:999,effect:(e,t)=>Cn},Dizzy:{name:"头晕眼花",description:"丢失当回合所有hit",durationType:_t.Turn,category:ot.OnHitStart,priority:999,effect:(e,t)=>Cn},Wound:{name:"创伤",description:"每次行动(hit)都会损失一定生命值",durationType:_t.Turn,category:ot.OnHitStart,priority:999,effect:(e,t,n)=>(e.loseHp(n||1),t)},Burning:{name:"燃烧",description:"每回合损失一定生命值",durationType:_t.Turn,category:ot.OnTurnStart,priority:999,effect:(e,t,n,i)=>(e.loseHp(i||1),{action1:t,action2:n})},QuickRecovery:{name:"快速恢复",description:"自动回复速度大幅度增加",durationType:_t.Second,category:ot.OnSecond,priority:1,effect:(e,t)=>{e.autoRecoverHpDot(t||1)}}};function Ks(e,t){if(!(e instanceof Ye))return;if(t.health<1){e.addLog(`${t.name}已经死了，无法捕获`);return}const n=e.ability.dex/t.ability.dex*(e.ability.siz/t.ability.siz)/(10*t.health/t.maxHealth),i=e.ability.str/t.ability.str*(e.ability.siz/t.ability.siz)/(10*t.health/t.maxHealth);Math.random()<i&&Math.random()<n?(t.health=.9,e.capturedMonster.push(t),e.addLog(`你成功捕获了${t.name}`)):e.addLog(`你尝试捕获${t.name}，但是失败了`)}function fi(e,t){return t.hits.map(n=>`${Oe(n)}${n.continuous?"🔗":""}(${Sn(n.coeff,e.getAbility(),e.getActionCoeff(n.category))}~${Nn(n.coeff,e.getAbility(),e.getActionCoeff(n.category))})`).join("<br>")}function Nn(e,t,n){const i=Math.round((e.str*t.str+e.dex*t.dex+e.int*t.int+e.con*t.con+e.siz*t.siz+e.app*t.app)*n.multiply+n.plus);return i<0?0:i}function Sn(e,t,n){const i=Math.round(Nn(e,t,n)*.1);return i<0?0:i}function ce(e,t,n){return Sn(e,t,n)+Math.round((Nn(e,t,n)-Sn(e,t,n))*Math.random())}function Oe(e){switch(e.category){case p.Attack:return"🗡️";case p.Defend:return"🛡️";case p.Dodge:return"💫";case p.Capture:return"🕸️";case p.Special:return"💥";case p.None:return"❔";default:return""}}function Vi(e,t){return`
    <p class="fst-italic">"${t.description}"</p>
    <p>系数 (点数范围)</p>
    <p>${t.hits.map(n=>`${Oe(n)}${n.continuous?"🔗":""}${Object.entries(n.coeff).filter(([i,r])=>r).map(([i,r])=>`${i}: ${r}`).join(", ")} (${Sn(n.coeff,e.getAbility(),e.getActionCoeff(n.category))}~${Nn(n.coeff,e.getAbility(),e.getActionCoeff(n.category))})`).join("<br>")}</p>
  `}var b=(e=>(e.Dazed="Dazed",e.Attack="Attack",e.PowerAttack="PowerAttack",e.QuickAttack="QuickAttack",e.PowerfulDigAttack="PowerfulDigAttack",e.Yarimasune="Yarimasune",e.SleepyTea="SleepyTea",e.Repent="Repent",e.HorizontalSlash="HorizontalSlash",e.Bite="Bite",e.Capture="Capture",e.Stun="Stun",e.Defend="Defend",e.Dodge="Dodge",e.DragonBreath="DragonBreath",e.SpinAttack="SpinAttack",e.DefenseSlash="DefenseSlash",e.Counter="Counter",e.GodStrike="GodStrike",e.ShredFlower="ShredFlower",e.PsyKick="PsyKick",e.PsyExplosion="PsyExplosion",e.PsyInvisibleSword="PsyInvisibleSword",e.PsyDodge="PsyDodge",e.Slash="Slash",e.Claw="Claw",e.HelmBreaker="HelmBreaker",e.StepSlash="StepSlash",e.Mikiri="Mikiri",e.SpiritRoundSlash="SpiritRoundSlash",e.NeverRetreat="NeverRetreat",e.LightningStormSlash="LightningStormSlash",e.LightningFiveStrikes="LightningFiveStrikes",e.CrowFly="CrowFly",e.ParkDestroyer="ParkDestroyer",e.SneakAttack="SneakAttack",e))(b||{});const Cn={category:p.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`${e.name} 来不及反应`},nt={Dazed:{name:"反应不过来",description:"来不及反应",rarity:_.Common,hits:[{category:p.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`${e.name} 来不及反应`}]},Stun:{name:"眩晕",description:"眩晕",rarity:_.Common,hits:[{category:p.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`${e.name} 眩晕了`}]},Attack:{name:"攻击",description:"用拳头或者用武器进行一般通过攻击",rarity:_.Common,hits:[{category:p.Attack,coeff:{str:1,int:0,con:0,siz:.5,app:0,dex:.5},messageGenerator:(e,t)=>`${e.name}攻击了${t.name}`}]},PowerAttack:{name:"强力攻击",description:"全身力量集中于一点，进行一次强力的攻击",rarity:_.Rare,hits:[{category:p.Attack,coeff:{str:2,int:0,con:0,siz:1,app:0,dex:.5},messageGenerator:(e,t)=>`${e.name}对${t.name}发起了一次强力的攻击`}]},QuickAttack:{name:"迅击",description:"据说剑圣在一个呼吸间就能劈出数刀。虽然你不是剑圣，但你努努力也至少能劈出两刀",rarity:_.Rare,hits:[{category:p.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(e,t)=>`${e.name}以迅雷不及掩耳之势向${t.name}发起了攻势`},{category:p.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(e,t)=>`电光火石之间，${e.name}再次做出了攻击`}]},PowerfulDigAttack:{name:"撅",description:"撅是对知识的渴求。古往今来多少哲学家撅地三尺探求真理",rarity:_.Masterpiece,hits:[{category:p.Attack,coeff:{str:2,int:0,con:0,siz:3,app:0,dex:0},extraEffect:(e,t)=>{t.addStatus(ie.Pain,1)},messageGenerator:(e,t)=>`${e.name}撅了${t.name}，${t.name}痛苦难耐
// 哼哼啊啊啊啊啊啊啊啊啊啊 `}]},SleepyTea:{name:"饮用昏睡红茶",description:"诗人都喜欢饮酒作赋，古代的哲学家也是如此，只是彼时还没有酒",rarity:_.Epic,hits:[{category:p.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`${e.name}喝下了昏睡红茶，进入睡眠`},{category:p.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`${e.name}喝下了昏睡红茶，于睡眠中恢复了<span style="color: green">${e.getAbility().con}</span>点生命值`,extraEffect:(e,t)=>{e.recoverHp(e.getAbility().con/2)}}]},Yarimasune:{name:"这个可以有！(赞赏)",description:"丝毫不吝啬对敌人的赞赏，这就是野兽先辈的气量",rarity:_.Rare,hits:[{category:p.Defend,coeff:{str:.5,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`${e.name} 进行了防御`},{category:p.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(e,t)=>`${e.name} 进行了反击`}]},Repent:{name:"†你改悔罢†",description:"令敌人改悔的神圣攻击",rarity:_.Masterpiece,hits:[{category:p.Dodge,coeff:{str:0,int:0,con:0,siz:-1.5,app:0,dex:2.5},messageGenerator:(e,t)=>`${e.name} 进行了闪躲`},{category:p.Attack,coeff:{str:2,int:0,con:0,siz:0,app:0,dex:2},messageGenerator:(e,t)=>`${e.name}曰: †你改悔罢†`}]},HorizontalSlash:{name:"横斩",description:"千钧之力的大力横劈",rarity:_.Rare,hits:[{category:p.Attack,coeff:{str:3,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`${e.name}猛劈一刀`}]},StepSlash:{name:"踏前斩",description:"前踏一步进行追击，而后猛劈一刀",rarity:_.Rare,hits:[{category:p.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`${e.name}前踏一步`},{category:p.Attack,coeff:{str:3,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(e,t)=>`${e.name}借着前冲的力劈出强力一击`}]},Mikiri:{name:"见切",description:"在敌人攻击的瞬间拔刀后退，成功回避攻击则能乘势将气入刀，以在下回合释放气刃大回旋",rarity:_.Masterpiece,hits:[{category:p.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:4},messageGenerator:(e,t)=>`${e.name}在敌人攻击的瞬间拔刀后退`,extraEffect:(e,t)=>{e.addStatus(ie.SpiritBlade,1)}}]},SpiritRoundSlash:{name:"气刃大回旋",description:"将气附于刀刃之上，使出极大幅度回转刀身的斩击，若是击中敌人则可使用登龙",rarity:_.Masterpiece,hits:[{category:p.Attack,coeff:{str:4,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(e,t)=>`${e.name}使出极大幅度回转刀身的斩击`,extraEffect:(e,t)=>{e.addStatus(ie.RedBlade,1)}}]},HelmBreaker:{name:"登龙",description:"快速向前突进，若成功击中命中便会借势踩着敌人的身体一路跃至高空，而后以全身的力量从空中向下劈出泣鬼神的一刀",rarity:_.Mythical,hits:[{category:p.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:0},continuous:!0,messageGenerator:(e,t)=>`${e.name}向${t.name}突进，踩着${t.name}的身体一路跃至高空`},{category:p.Attack,coeff:{str:10,int:0,con:2,siz:2,app:0,dex:2},messageGenerator:(e,t)=>`${e.name}从天而降，以全身之力劈向${t.name}`}]},Slash:{name:"劈砍",description:"挥舞手中的武器",rarity:_.Common,hits:[{category:p.Attack,coeff:{str:2,int:0,con:0,siz:0,app:0,dex:.5},messageGenerator:(e,t)=>`${e.name}挥舞手中的武器劈向${t.name}`}]},Bite:{name:"撕咬",description:"野兽的原始攻击方式",rarity:_.Common,hits:[{category:p.Attack,coeff:{str:1,int:0,con:0,siz:.5,app:0,dex:1},messageGenerator:(e,t)=>`${e.name}冲过来咬了${t.name}一口`}]},Claw:{name:"爪击",description:"野兽的原始攻击方式",rarity:_.Rare,hits:[{category:p.Attack,coeff:{str:1,int:0,con:0,siz:.5,app:0,dex:1},messageGenerator:(e,t)=>`${e.name}向${t.name}挥舞锐利的爪子`},{category:p.Attack,coeff:{str:.5,int:0,con:0,siz:.5,app:0,dex:0},messageGenerator:(e,t)=>`${e.name}向${t.name}挥舞锐利的爪子`}]},Capture:{name:"尝试捕捉",description:"这不是神奇宝贝，你得用绞技而不是精灵球",rarity:_.Common,hits:[{category:p.Capture,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:.5},extraEffect:Ks,messageGenerator:(e,t)=>`${e.name}尝试通过绞住${t.name}，让${t.name}失去行动力`}]},Defend:{name:"格挡",description:"做一个稳重的人",rarity:_.Common,hits:[{category:p.Defend,coeff:{str:1,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`${e.name} 进行了防御`}]},Counter:{name:"反击",description:"格挡后乘势反击",rarity:_.Rare,hits:[{category:p.Defend,coeff:{str:.5,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`${e.name} 进行了防御`},{category:p.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(e,t)=>`${e.name} 进行了反击`}]},DefenseSlash:{name:"防御斩",description:"快速挥刀后立刻进行防御，不给敌人任何可乘之机",rarity:_.Rare,hits:[{category:p.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(e,t)=>`${e.name} 进行了一次快速攻击`},{category:p.Defend,coeff:{str:1.5,int:0,con:1.5,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`${e.name} 进行了铁壁一般的防御`}]},Dodge:{name:"闪避",description:"天下武功，唯快不破。若是能闪过敌人的攻击，将使敌人失衡，失去下一个动作",rarity:_.Common,hits:[{category:p.Dodge,coeff:{str:0,int:0,con:0,siz:-1.5,app:0,dex:3},messageGenerator:(e,t)=>`${e.name} 对 ${t.name} 的攻击进行了闪躲`}]},PsyDodge:{name:"瞬移",description:"念力的一种用法",rarity:_.Epic,hits:[{category:p.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>"一切如常"},{category:p.Dodge,coeff:{str:0,int:12,con:0,siz:0,app:0,dex:3},messageGenerator:(e,t)=>`${e.name} 的身影瞬间到了别处`}]},SpinAttack:{name:"回旋击",description:"闪避后趁敌人重心不稳发起攻击",rarity:_.Rare,hits:[{category:p.Dodge,coeff:{str:0,int:0,con:0,siz:-1.5,app:0,dex:2.5},messageGenerator:(e,t)=>`${e.name} 进行了闪避`},{category:p.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:1.5},messageGenerator:(e,t)=>`${e.name} 进行了回旋击`}]},DragonBreath:{name:"巨龙吐息",description:"据说巨龙的吐息足以融化钢铁",rarity:_.Epic,hits:[{category:p.Attack,coeff:{str:0,int:10,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`${e.name} 喷出了汹涌的火焰`},{category:p.Attack,coeff:{str:0,int:5,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`${e.name} 喷出了灼热的火焰`},{category:p.Attack,coeff:{str:0,int:2,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`${e.name} 喷出了喉咙中残余的火焰`}]},GodStrike:{name:"神击",description:"犹如神灵降下天罚",rarity:_.Mythical,hits:[{category:p.Attack,coeff:{str:12,int:6,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`神明的愤怒降临于${t.name}`}]},ShredFlower:{name:"碎花",description:"无人能看清动作，空中轻柔的落花瞬间化为齑粉",rarity:_.Unique,hits:[{category:p.Defend,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:6},messageGenerator:(e,t)=>`${e.name} 被花瓣包围了`},{category:p.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:6},messageGenerator:(e,t)=>`${e.name} 的身影消失了`},{category:p.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:4},messageGenerator:(e,t)=>"空气中只有残影"},{category:p.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:4},messageGenerator:(e,t)=>"空气中只有更多的残影"},{category:p.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:3},messageGenerator:(e,t)=>`${t.name} 同花瓣一同破碎`}]},PsyKick:{name:"念动力踢击",description:"通过念力完成的隔空踢击，力道十足又难以防备",rarity:_.Rare,hits:[{category:p.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>"一切如常"},{category:p.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>"一切如常"},{category:p.Attack,coeff:{str:1,int:6,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`${t.name}凭空被踢了一脚`}]},PsyExplosion:{name:"不可视爆裂",description:"不可视的念力凝聚成万吨重锤从天而降",rarity:_.Epic,hits:[{category:p.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>"一切如常"},{category:p.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>"一切如常"},{category:p.Attack,coeff:{str:2,int:12,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`${t.name}所在的位置发生了大爆炸`}]},PsyInvisibleSword:{name:'"不可视之剑"',description:"无数看不见的剑刺向敌人，流淌的血勾勒出它们的形状",rarity:_.Unique,hits:[{category:p.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>"一切如常"},{category:p.None,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>"一切如常"},{category:p.Attack,coeff:{str:0,int:1.5,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`看不见的剑贯穿${t.name}`},{category:p.Attack,coeff:{str:0,int:3,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`更多看不见的剑贯穿${t.name}`},{category:p.Attack,coeff:{str:0,int:6,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`极多看不见的剑贯穿${t.name}`},{category:p.Attack,coeff:{str:0,int:12,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`无数看不见的剑贯穿${t.name}`}]},NeverRetreat:{name:"死守不退",description:"全力防御，死守不退",rarity:_.Masterpiece,hits:[{category:p.Defend,coeff:{str:2,int:0,con:2,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`${e.name} 全力防御`},{category:p.Defend,coeff:{str:1,int:0,con:1,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`${e.name} 死守不退`}]},CrowFly:{name:"乌鸦坐飞机",description:"高高跃起后发起攻击",rarity:_.Masterpiece,hits:[{category:p.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:3},messageGenerator:(e,t)=>`${e.name} 一个大跳`},{category:p.Attack,coeff:{str:2,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>`${e.name} 从空中一拳打向 ${t.name}`}]},ParkDestroyer:{name:"龙卷风击毁停车场",description:"释放武器中的狂风之力，形成狂暴的龙卷风",rarity:_.Masterpiece,hits:[{category:p.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:.5},messageGenerator:(e,t)=>`风卷着尘土袭向 ${t.name}`},{category:p.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(e,t)=>"回旋的风聚成龙卷"},{category:p.Attack,coeff:{str:1.5,int:0,con:0,siz:0,app:0,dex:1.5},messageGenerator:(e,t)=>`${e.name} 从龙卷风中刺出`}]},LightningStormSlash:{name:"闪电旋风劈",description:"闪！电！旋！风！劈！",rarity:_.Masterpiece,hits:[{category:p.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(e,t)=>"闪电！"},{category:p.Dodge,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:2},messageGenerator:(e,t)=>"旋风！"},{category:p.Attack,coeff:{str:1,int:0,con:0,siz:0,app:0,dex:0},messageGenerator:(e,t)=>"劈！"}]},LightningFiveStrikes:{name:"闪电五连鞭",description:"相传武林中有一位马大师，靠着这套五连鞭驰骋江湖，可惜后来被两个年轻人偷袭，从此销声匿迹",rarity:_.Masterpiece,hits:[{category:p.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(e,t)=>"第一鞭！"},{category:p.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(e,t)=>"第二鞭！"},{category:p.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(e,t)=>"第三鞭！"},{category:p.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(e,t)=>"第四鞭！"},{category:p.Attack,coeff:{str:0,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(e,t)=>"第五鞭！"}]},SneakAttack:{name:"偷袭",description:"来！骗！来！偷袭！",rarity:_.Rare,hits:[{category:p.Attack,coeff:{str:.5,int:0,con:0,siz:0,app:0,dex:1},messageGenerator:(e,t)=>`${e.name} 来！骗！来！偷袭！`,extraEffect:(e,t)=>{t.addStatus(ie.Dizzy,1)}}]}};var Ke=(e=>(e.Sword="Sword",e.ShabbyKatana="ShabbyKatana",e.GreatKatana="GreatKatana",e.Ningenmukotsu="Ningenmukotsu",e.Mikadsukimunechika="Mikadsukimunechika",e.MudKnife="MudKnife",e.WindSpinSword="WindSpinSword",e.AyulsaOfNoHonor="AyulsaOfNoHonor",e.RockSword="RockSword",e.Rope="Rope",e.DragonSlayer="DragonSlayer",e.KatanaOfTheHeart="KatanaOfTheHeart",e.WomenDress="WomenDress",e))(Ke||{});const pi={Sword:{name:"铁剑",description:"一把平平无奇的剑",rarity:_.Common,position:it.Hand,extraActions:[{actionType:b.Slash,weight:.8},{actionType:b.HorizontalSlash,weight:.2}],ability:{piercing:25},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[p.Attack]:{plus:1,multiply:1}}},Rope:{name:"绳索",description:"一个看起来很适合用来捕捉的武器",rarity:_.Common,position:it.Hand,extraActions:[{actionType:b.Capture,weight:.2}],ability:{piercing:25},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[p.Attack]:{plus:-1,multiply:1},[p.Capture]:{plus:2,multiply:1}}},ShabbyKatana:{name:"残破太刀",description:"太好了，有了这个，你就可以做虾头太刀侠了",rarity:_.Common,position:it.Hand,extraActions:[{actionType:b.Slash,weight:.9},{actionType:b.HorizontalSlash,weight:.05},{actionType:b.StepSlash,weight:.04},{actionType:b.Mikiri,weight:.01}],ability:{piercing:25,dex:-1},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[p.Attack]:{plus:1,multiply:1},[p.Dodge]:{plus:-1,multiply:1}}},GreatKatana:{name:"大太刀",description:"这把的太刀的刀身比一般的太刀要长，挥舞起来很吃力但是威力巨大",rarity:_.Rare,position:it.Hand,extraActions:[{actionType:b.Slash,weight:.7},{actionType:b.HorizontalSlash,weight:.1},{actionType:b.StepSlash,weight:.1},{actionType:b.Mikiri,weight:.05}],ability:{piercing:30,dex:-2},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[p.Attack]:{plus:4,multiply:1},[p.Dodge]:{plus:-2,multiply:1}}},Ningenmukotsu:{name:'太刀"人间无骨"',description:"正面刻着人间，背面刻着无骨的名刀。刀如其名，削骨若无物",rarity:_.Masterpiece,position:it.Hand,extraActions:[{actionType:b.HorizontalSlash,weight:.4},{actionType:b.StepSlash,weight:.4},{actionType:b.Mikiri,weight:.15}],ability:{piercing:35},armorGrowthCoeff:0,piercingGrowthCoeff:5.5,actionCoeff:{[p.Attack]:{plus:3,multiply:1.1}}},Mikadsukimunechika:{name:'太刀"三日月宗近"',description:"太刀最高杰作的天下五剑之一，传说中的名刀，有着名物中的名物之称。刀身如同新月一般美丽",rarity:_.Epic,position:it.Hand,extraActions:[{actionType:b.HorizontalSlash,weight:.3},{actionType:b.StepSlash,weight:.3},{actionType:b.Mikiri,weight:.3}],ability:{piercing:40,dex:1},armorGrowthCoeff:0,piercingGrowthCoeff:6,actionCoeff:{[p.Attack]:{plus:10,multiply:1},[p.Dodge]:{plus:1,multiply:1}}},KatanaOfTheHeart:{name:"心中的太刀",description:"你看不见它，但它确实在你手中",rarity:_.Mythical,position:it.Hand,extraActions:[{actionType:b.Mikiri,weight:1}],ability:{piercing:45},armorGrowthCoeff:0,piercingGrowthCoeff:6.5,actionCoeff:{[p.Attack]:{plus:10,multiply:1.2},[p.Dodge]:{plus:10,multiply:1.2}}},MudKnife:{name:"沼气短刀",description:"刀身闻起来臭臭的",rarity:_.Rare,position:it.Hand,extraActions:[{actionType:b.Slash,weight:.4},{actionType:b.PowerfulDigAttack,weight:.1},{actionType:b.QuickAttack,weight:.5}],ability:{piercing:30,dex:1},armorGrowthCoeff:0,piercingGrowthCoeff:5,actionCoeff:{[p.Dodge]:{plus:1,multiply:1}}},WindSpinSword:{name:"风旋刺剑",description:"靠近剑身能听到轻轻的风声",rarity:_.Masterpiece,position:it.Hand,extraActions:[{actionType:b.SpinAttack,weight:.6},{actionType:b.ParkDestroyer,weight:.15},{actionType:b.LightningStormSlash,weight:.15}],ability:{piercing:35,dex:2},armorGrowthCoeff:0,piercingGrowthCoeff:5.5,actionCoeff:{[p.Attack]:{plus:1,multiply:1},[p.Dodge]:{plus:2,multiply:1}}},RockSword:{name:"剑型大石头",description:"一把很宽的石头大剑，看起来就像块大石头",rarity:_.Masterpiece,position:it.Hand,extraActions:[{actionType:b.DefenseSlash,weight:.3},{actionType:b.Counter,weight:.4},{actionType:b.NeverRetreat,weight:.3}],ability:{str:1,con:1,piercing:35},armorGrowthCoeff:0,piercingGrowthCoeff:5.5,actionCoeff:{[p.Defend]:{plus:3,multiply:1}}},DragonSlayer:{name:'"弑龙者"',description:"传说这把剑上的龙之力来源于被它杀死的龙的灵魂。你握着它，仿佛能感受到龙的气息",rarity:_.Epic,position:it.Hand,extraActions:[{actionType:b.HorizontalSlash,weight:1},{actionType:b.DragonBreath,weight:.1}],ability:{str:1,con:2,piercing:40},armorGrowthCoeff:0,piercingGrowthCoeff:6,actionCoeff:{[p.Attack]:{plus:3,multiply:1.1}}},AyulsaOfNoHonor:{name:"Ayulsa死于徒手",description:"Ayulsa手上没有武器",rarity:_.Unique,position:it.Hand,extraActions:[{actionType:b.PsyKick,weight:.2},{actionType:b.PsyExplosion,weight:.2},{actionType:b.PsyInvisibleSword,weight:.1},{actionType:b.PsyDodge,weight:.2}],ability:{int:2,dex:2,piercing:50},armorGrowthCoeff:0,piercingGrowthCoeff:6.75,actionCoeff:{}},WomenDress:{name:"女装",description:"女装",rarity:_.Rare,position:it.Body,extraActions:[{actionType:b.CrowFly,weight:.05}],ability:{armor:15},armorGrowthCoeff:3,piercingGrowthCoeff:0,actionCoeff:{}}};class kr{constructor(t,n,i,r,s,o,a){W(this,"name");W(this,"uuid");W(this,"category");W(this,"type");W(this,"rarity");W(this,"level");W(this,"description");this.name=t,this.uuid=n,this.category=i,this.type=r,this.rarity=s,this.level=o,this.description=a}}const rt=[];for(let e=0;e<256;++e)rt.push((e+256).toString(16).slice(1));function Us(e,t=0){return(rt[e[t+0]]+rt[e[t+1]]+rt[e[t+2]]+rt[e[t+3]]+"-"+rt[e[t+4]]+rt[e[t+5]]+"-"+rt[e[t+6]]+rt[e[t+7]]+"-"+rt[e[t+8]]+rt[e[t+9]]+"-"+rt[e[t+10]]+rt[e[t+11]]+rt[e[t+12]]+rt[e[t+13]]+rt[e[t+14]]+rt[e[t+15]]).toLowerCase()}let Kn;const Ys=new Uint8Array(16);function qs(){if(!Kn){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Kn=crypto.getRandomValues.bind(crypto)}return Kn(Ys)}const Qs=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ki={randomUUID:Qs};function Mr(e,t,n){var r;if(Ki.randomUUID&&!e)return Ki.randomUUID();e=e||{};const i=e.random??((r=e.rng)==null?void 0:r.call(e))??qs();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Us(i)}class $t extends kr{constructor(n,i=0){n=n||Ke.Sword;const r=pi[n];super(r.name,Mr(),ae.Equipment,n,r.rarity,i,r.description);W(this,"position");W(this,"extraActions");W(this,"ability");W(this,"armorGrowthCoeff");W(this,"piercingGrowthCoeff");W(this,"actionCoeff");W(this,"prefix");this.armorGrowthCoeff=r.armorGrowthCoeff,this.piercingGrowthCoeff=r.piercingGrowthCoeff,this.position=r.position,this.extraActions=r.extraActions,this.randomExtraActionsWeight(),this.ability=r.ability,this.actionCoeff=r.actionCoeff,this.ability.armor||(this.ability.armor=0),this.ability.piercing||(this.ability.piercing=0),this.ability.armor+=this.armorGrowthCoeff*this.level,this.ability.piercing+=this.piercingGrowthCoeff*this.level,this.prefix=Xs(this.randomPrefixRarity(),r.position),this.applyPrefix()}randomExtraActionsWeight(){this.extraActions.forEach(n=>{n.weight=n.weight*(1+Math.random()*.4-.2)})}randomPrefixRarity(){let n=_.Common;for(let i=0;i<10;i++)Math.random()<.05?n-=1:Math.random()>.95&&(n+=1);return n<_.Common?n=_.Common:n>_.Mythical&&(n=_.Mythical),n}applyPrefix(){["str","int","con","siz","app","dex","armor","piercing"].forEach(r=>{var s;(s=this.prefix.ability)!=null&&s[r]&&(this.ability[r]=this.ability[r]?this.ability[r]+this.prefix.ability[r]:this.prefix.ability[r])}),[p.Attack,p.Defend,p.Dodge,p.Capture,p.Special,p.None].forEach(r=>{var s;(s=this.prefix.actionCoeff)!=null&&s[r]&&(this.actionCoeff[r]=this.actionCoeff[r]?{plus:this.actionCoeff[r].plus+this.prefix.actionCoeff[r].plus,multiply:this.actionCoeff[r].multiply*this.prefix.actionCoeff[r].multiply}:this.prefix.actionCoeff[r])}),this.extraActions.push(...this.prefix.extraActions),this.name=`${this.prefix.name}${this.name}`}levelup(){this.level++,this.ability.armor+=this.armorGrowthCoeff,this.ability.piercing+=this.piercingGrowthCoeff}}var Pr=(e=>(e.None="None",e.Heavy="Heavy",e.Light="Light",e.Sharp="Sharp",e.Huge="Huge",e.Masterpiece="Masterpiece",e.Mythical="Mythical",e.Epic="Epic",e.Holy="Holy",e.BeastHeart="BeastHeart",e.DragonForge="DragonForge",e.Sneaky="Sneaky",e))(Pr||{});const ve={None:{name:"",position:"AnyPosition",rarity:_.Common,extraActions:[],ability:{},actionCoeff:{}},Heavy:{name:"笨重的",position:"AnyPosition",rarity:_.Common,extraActions:[],ability:{dex:-1},actionCoeff:{}},Huge:{name:"巨大的",position:it.Hand,rarity:_.Common,extraActions:[],ability:{},actionCoeff:{[p.Attack]:{plus:2,multiply:1},[p.Dodge]:{plus:-1,multiply:1}}},Light:{name:"轻巧的",position:"AnyPosition",rarity:_.Common,extraActions:[],ability:{},actionCoeff:{[p.Dodge]:{plus:1,multiply:1}}},Sneaky:{name:"卑鄙的",position:it.Hand,rarity:_.Common,extraActions:[{actionType:b.SneakAttack,weight:.2}],ability:{},actionCoeff:{}},Sharp:{name:"锐利的",position:it.Hand,rarity:_.Rare,extraActions:[],ability:{piercing:1},actionCoeff:{[p.Attack]:{plus:1,multiply:1}}},Holy:{name:"有点神圣的",position:"AnyPosition",rarity:_.Rare,extraActions:[{actionType:b.Repent,weight:.1}],ability:{},actionCoeff:{}},BeastHeart:{name:"野兽之心 ",position:"AnyPosition",rarity:_.Masterpiece,extraActions:[{actionType:b.PowerfulDigAttack,weight:.3}],ability:{con:1},actionCoeff:{}},Masterpiece:{name:"大师的杰作 ",position:"AnyPosition",rarity:_.Masterpiece,extraActions:[],ability:{con:1,piercing:5,armor:5},actionCoeff:{[p.Dodge]:{plus:1,multiply:1}}},DragonForge:{name:"龙息锻造的",position:it.Hand,rarity:_.Epic,extraActions:[{actionType:b.DragonBreath,weight:.1}],ability:{piercing:10},actionCoeff:{[p.Attack]:{plus:2,multiply:1}}},Epic:{name:"吟游诗人的歌谣中的",position:"AnyPosition",rarity:_.Epic,extraActions:[],ability:{piercing:10,armor:10},actionCoeff:{[p.Attack]:{plus:2,multiply:1},[p.Defend]:{plus:2,multiply:1}}},Mythical:{name:"神话时代的遗留物 ",position:"AnyPosition",rarity:_.Mythical,extraActions:[],ability:{str:1,dex:1,app:1,siz:1,con:1,int:1,piercing:5,armor:5},actionCoeff:{[p.Attack]:{plus:1,multiply:1},[p.Defend]:{plus:1,multiply:1},[p.Dodge]:{plus:1,multiply:1},[p.Capture]:{plus:1,multiply:1},[p.Special]:{plus:1,multiply:1}}}};function Xs(e,t){const n=Object.keys(ve).filter(s=>ve[s].rarity===e&&(ve[s].position===t||ve[s].position==="AnyPosition")),i=Math.floor(Math.random()*n.length),r=n[i];return ve[r]||ve[Pr.None]}function Js(e,t){const n=Object.keys(pi).filter(s=>pi[s].rarity===e),i=Math.floor(Math.random()*n.length),r=n[i];return new $t(r,t)}function Zs(e){const t=`
    <div class="tooltip-base tooltip-header">
      <h5 class="text-${_[e.rarity]}" style="font-weight: bold;">lv${e.level} ${e.name}</h5>
      <p class="fst-italic">"${e.description}"</p>
      <p><strong>位置:</strong> ${e.position}</p>
      <br>
    </div>
  `;let n="";e.ability&&Object.keys(e.ability).length>0&&(n=`
    <div class="tooltip-abilities tooltip-extra">
      <p><strong>属性: </strong>
        ${Object.entries(e.ability).filter(([s,o])=>o).map(([s,o])=>`${s}: ${o}`).join(", ")}
      </p>
    </div>
  `);let i="";e.extraActions&&e.extraActions.length>0&&(i=`
      <div class="tooltip-extra-actions tooltip-extra">
        <p><strong>额外行动: </strong>
          ${e.extraActions.map(s=>`${nt[s.actionType].name} (权重: ${s.weight.toFixed(2)})`).join(", ")}
      </div>
    `);let r="";return e.actionCoeff&&Object.keys(e.actionCoeff).length>0&&(r=`
      <div class="tooltip-action-coeff tooltip-extra">
        <p><strong>行动系数: </strong>
          ${Object.entries(e.actionCoeff).map(([s,o])=>`${s}: ${o.plus<0?"":"+"}${o.plus} ${o.multiply===1?"":"x"+o.multiply}`).join(", ")}
      </div>
    `),t+n+i+r}function Be(e,t){Math.random()<.1?t-=1:Math.random()<.05&&(t+=1),t=t<_.Common?_.Common:t,t=t>_.Mythical?_.Mythical:t;let n=Math.floor(e+10*(Math.random()-.5));return n<0&&(n=0),Js(t,n)}class wt extends kr{constructor(t,n=0){t=t||q.Unknown;const i=Ui[t];super(i.name,Mr(),ae.Consumable,t,i.rarity,n,i.description)}useItem(t){Ui[this.type].effect(t),t.pack=t.pack.filter(n=>n.uuid!==this.uuid)}}var q=(e=>(e.Unknown="Unknown",e.BrokenChest="BrokenChest",e.WoodenChest="WoodenChest",e.SilverChest="SilverChest",e.GoldChest="GoldChest",e.DiamondChest="DiamondChest",e.QuickRecoveryPotion="QuickRecoveryPotion",e.LifePotion="LifePotion",e.LargeLifePotion="LargeLifePotion",e.GiftboxAndLetter="GiftboxAndLetter",e))(q||{});const Ui={BrokenChest:{name:"破烂的木宝箱",rarity:_.Common,description:"一个破破烂烂的宝箱",effect:e=>{e.pack.push(Be(1,_.Common))}},WoodenChest:{name:"木质的宝箱",rarity:_.Rare,description:"一个有着漂亮的木质纹理的宝箱",effect:e=>{e.pack.push(Be(1,_.Rare))}},SilverChest:{name:"银色装饰的宝箱",rarity:_.Masterpiece,description:"这个宝箱上有着精细的银制装饰，银锈并不能掩盖它的华丽",effect:e=>{e.pack.push(Be(1,_.Masterpiece))}},GoldChest:{name:"黄金镶边的宝箱",rarity:_.Epic,description:"金光闪闪，这才叫宝箱！光是看着就让人心潮澎湃",effect:e=>{e.pack.push(Be(1,_.Epic))}},DiamondChest:{name:"华丽的宝石宝箱",rarity:_.Mythical,description:"无法用辞藻形容的华丽，你甚至害怕打开它会划伤上面美丽的宝石",effect:e=>{e.pack.push(Be(1,_.Mythical))}},Unknown:{name:"未知",rarity:_.Common,description:"未知",effect:e=>{}},QuickRecoveryPotion:{name:"神秘黄色药水",rarity:_.Epic,description:"看起来不像是这个世界的产物。非常的新鲜，非常的美味<p>自动回复速度提升15倍，持续1分钟</p>",effect:e=>{e.addStatus(ie.QuickRecovery,60,14),console.log("使用快速恢复秘药")}},LifePotion:{name:"生命秘药",rarity:_.Masterpiece,description:"只要没死，区区断胳膊断腿喝下去立马都能长回来。你有个疑问，这玩意儿到底是什么做的？<p>恢复50点生命值</p>",effect:e=>{e.recoverHp(50)}},LargeLifePotion:{name:"大瓶生命秘药",rarity:_.Epic,description:"普通的生命秘药一次只能让你长一只胳膊，而这大瓶装能让你一次全长回来。前提是你还有手可以拿它<p>恢复100点生命值</p>",effect:e=>{e.recoverHp(100)}},GiftboxAndLetter:{name:"礼物箱和一封信",rarity:_.Mythical,description:"一个礼物箱，上面还附了一封信，信上写着：“希望你喜欢这个游戏”",effect:e=>{for(let t=0;t<5;t++)e.pack.push(new wt("QuickRecoveryPotion"));for(let t=0;t<10;t++)e.pack.push(new wt("LifePotion"));for(let t=0;t<5;t++)e.pack.push(new wt("LargeLifePotion"));e.pack.push(new $t(Ke.Sword)),e.pack.push(new $t(Ke.Rope))}}};var ht=(e=>(e.Player="Player",e.Player114514="Player114514",e.Slime="Slime",e.Dragon="Dragon",e.AngryDragon="AngryDragon",e.WeakDragon="WeakDragon",e.Wolf="Wolf",e.DiscardedGolem="DiscardedGolem",e.Ayulsa="Ayulsa",e.Toono="Toono",e.Horse="Horse",e))(ht||{});const Ue={Player:{typeName:"人类",description:"你",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:.1},con:{base:5,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:0},piercing:{base:0,growth:0}},actions:[{actionType:b.Attack,weight:.5},{actionType:b.Capture,weight:.1},{actionType:b.Defend,weight:.2},{actionType:b.Dodge,weight:.2}],dropItems:[]},Player114514:{typeName:"野兽仙贝",description:"24岁，是学生",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:0},con:{base:7,growth:.3},siz:{base:5,growth:.05},app:{base:7,growth:0},dex:{base:5,growth:.05},armor:{base:0,growth:0},piercing:{base:0,growth:0}},actions:[{actionType:b.PowerfulDigAttack,weight:.4},{actionType:b.Yarimasune,weight:.4},{actionType:b.Capture,weight:.4},{actionType:b.Repent,weight:.4},{actionType:b.SleepyTea,weight:.4}],dropItems:[]},Toono:{typeName:"远野",description:"野兽学派的哲学家后辈",abilityCoeff:{str:{base:10,growth:.1},int:{base:5,growth:.1},con:{base:10,growth:.2},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:5,growth:.1},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:b.PowerfulDigAttack,weight:.4},{actionType:b.Counter,weight:.4},{actionType:b.Dodge,weight:.2}],dropItems:[{type:null,weight:1}]},Slime:{typeName:"史莱姆",description:"一种行动缓慢的软体生物，武器打上去没有什么手感",abilityCoeff:{str:{base:3,growth:.05},int:{base:0,growth:0},con:{base:3,growth:.1},siz:{base:2,growth:0},app:{base:0,growth:0},dex:{base:1,growth:.05},armor:{base:25,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:b.Attack,weight:1},{actionType:b.Defend,weight:1},{actionType:b.Dazed,weight:2}],dropItems:[{type:null,weight:.6},{type:q.BrokenChest,weight:.4},{type:q.WoodenChest,weight:.02},{type:q.SilverChest,weight:.001}]},Dragon:{typeName:'"池沼之主"龙',description:"生态位的顶端，人类在它庞大的身躯面前就像一只蝼蚁。它正用着锐利的目光打量着你，让你不寒而栗。<br>Tips: 你并不需要一次性击败Boss，对其造成20%最大生命值以上的伤害即可永久削减其生命值。你可以通过多次战斗来最终击败它。",abilityCoeff:{str:{base:10,growth:.2},int:{base:4,growth:.1},con:{base:20,growth:.8},siz:{base:20,growth:.2},app:{base:4,growth:.1},dex:{base:4,growth:.1},armor:{base:50,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:b.Bite,weight:.1},{actionType:b.PowerAttack,weight:.2},{actionType:b.Counter,weight:.2},{actionType:b.DragonBreath,weight:.2},{actionType:b.QuickAttack,weight:.2},{actionType:b.Defend,weight:.1}],dropItems:[]},AngryDragon:{typeName:"愤怒的龙",description:"龙彻底被激怒了，一只蝼蚁居然让它受了伤。它有些虚弱，但是攻击更加狂暴了",abilityCoeff:{str:{base:15,growth:.3},int:{base:3,growth:.05},con:{base:10,growth:.4},siz:{base:20,growth:.2},app:{base:2,growth:.05},dex:{base:6,growth:.15},armor:{base:25,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:b.Bite,weight:.1},{actionType:b.PowerAttack,weight:.2},{actionType:b.DragonBreath,weight:.2},{actionType:b.QuickAttack,weight:.2}],dropItems:[]},WeakDragon:{typeName:"虚弱的龙",description:"它抛弃了自己作为龙的尊严，现在一心只想活下去",abilityCoeff:{str:{base:5,growth:.1},int:{base:6,growth:.15},con:{base:5,growth:.2},siz:{base:20,growth:.2},app:{base:2,growth:.05},dex:{base:4,growth:.1},armor:{base:20,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:b.Bite,weight:.2},{actionType:b.Counter,weight:.3},{actionType:b.DragonBreath,weight:.2},{actionType:b.Defend,weight:.3}],dropItems:[{type:q.SilverChest,weight:.95},{type:q.GoldChest,weight:.05},{type:q.DiamondChest,weight:.002}]},Wolf:{typeName:"孤狼",description:"一匹行动敏捷的孤狼，对于普通人来说，它是一种危险的生物",abilityCoeff:{str:{base:5,growth:.1},int:{base:2,growth:.05},con:{base:5,growth:.15},siz:{base:4,growth:.05},app:{base:2,growth:0},dex:{base:6,growth:.15},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:b.Bite,weight:1},{actionType:b.QuickAttack,weight:.5},{actionType:b.SpinAttack,weight:.5}],dropItems:[{type:q.BrokenChest,weight:.8},{type:q.WoodenChest,weight:.2},{type:q.SilverChest,weight:.01}]},DiscardedGolem:{typeName:"废弃的岩石魔像",description:"一尊不知何时被废弃的岩石魔像，在风雨的侵蚀下，它的巨大的身躯上布满了裂痕和苔藓。它不该会动呀？",abilityCoeff:{str:{base:15,growth:.3},int:{base:0,growth:0},con:{base:10,growth:.4},siz:{base:15,growth:0},app:{base:0,growth:0},dex:{base:0,growth:0},armor:{base:75,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:b.Dazed,weight:2},{actionType:b.Defend,weight:1},{actionType:b.PowerAttack,weight:.5},{actionType:b.Counter,weight:.5}],dropItems:[{type:q.BrokenChest,weight:.2},{type:q.WoodenChest,weight:.8},{type:q.SilverChest,weight:.04},{type:q.GoldChest,weight:.002}]},Ayulsa:{typeName:"???",description:"好像并不来自于这个世界",abilityCoeff:{str:{base:5,growth:.2},int:{base:50,growth:.2},con:{base:5,growth:.4},siz:{base:5,growth:.2},app:{base:5,growth:.2},dex:{base:5,growth:.2},armor:{base:0,growth:5},piercing:{base:0,growth:5}},actions:[{actionType:b.GodStrike,weight:1},{actionType:b.ShredFlower,weight:1},{actionType:b.PsyKick,weight:1},{actionType:b.PsyExplosion,weight:1},{actionType:b.PsyInvisibleSword,weight:1},{actionType:b.PsyDodge,weight:1}],dropItems:[{type:q.DiamondChest,weight:1}]},Horse:{typeName:"马 (?)",description:"看起来好像不是普通的马",abilityCoeff:{str:{base:5,growth:.1},int:{base:5,growth:0},con:{base:7.5,growth:.3},siz:{base:5,growth:0},app:{base:5,growth:0},dex:{base:10,growth:.2},armor:{base:0,growth:4.5},piercing:{base:0,growth:5.5}},actions:[{actionType:b.SneakAttack,weight:1},{actionType:b.LightningFiveStrikes,weight:1}],dropItems:[{type:q.BrokenChest,weight:.2},{type:q.WoodenChest,weight:.8},{type:q.SilverChest,weight:.04},{type:q.GoldChest,weight:.002}]}};class Ir{constructor(t,n,i,r){W(this,"isPlayer",!1);W(this,"name");W(this,"type");W(this,"level");W(this,"individualStrength");W(this,"maxHealth");W(this,"health");W(this,"ability");W(this,"statuses",[]);W(this,"pack",[]);W(this,"equipments",{body:null,hand:null,foot:null,accessory:null});W(this,"actions");this.name=t,this.type=n,this.level=i,this.individualStrength=r,this.ability=this.calculateAbility(),this.maxHealth=this.ability.con*10+this.ability.siz*5,this.health=this.maxHealth,this.actions=Ue[this.type].actions}calculateAbility(){const t=Ue[this.type].abilityCoeff,n=["str","int","con","siz","app","dex","armor","piercing"],i={};return n.forEach(r=>{i[r]=t[r].base+t[r].growth*this.level*this.individualStrength}),i}levelup(){this.level++,this.ability=this.calculateAbility();const t=this.maxHealth;this.maxHealth=this.ability.con*10+this.ability.siz*5,this.recoverHp(this.maxHealth-t)}getRandomAction(){const t=Math.random(),n=this.getActions(),i=n.reduce((s,o)=>s+o.weight,0);let r=0;for(const s of n)if(r+=s.weight,t<r/i)return nt[s.actionType];return nt[b.Dazed]}wearEquipment(t){this.equipments[t.position]&&this.removeEquipment(t.position),this.equipments[t.position]=t,this.pack.splice(this.pack.indexOf(t),1)}removeEquipment(t){this.equipments[t]&&(this.pack.push(this.equipments[t]),this.equipments[t]=null)}loseHp(t){this.health-=t,this.health<0&&(this.health=0)}recoverHp(t){this.health+=t,this.health>this.maxHealth&&(this.health=this.maxHealth)}getExtraAbility(){const t={str:0,int:0,con:0,siz:0,app:0,dex:0,armor:0,piercing:0},n=["str","int","con","siz","app","dex","armor","piercing"];for(const i of Object.values(this.equipments))i&&n.forEach(r=>{var s;t[r]+=((s=i.ability)==null?void 0:s[r])??0});return t}getAbility(){const t={...this.ability},n=["str","int","con","siz","app","dex","armor","piercing"],i=this.getExtraAbility();for(const r of n)t[r]+=i[r];return t}getExtraActions(){const t=[];for(const n of Object.values(this.equipments))n&&t.push(...n.extraActions);return t}getActions(){const t=[...this.actions];return t.push(...this.getExtraActions()),t}getActionCoeff(t){var i,r;const n={plus:0,multiply:1};for(const s of Object.values(this.equipments))s&&(n.plus+=((i=s.actionCoeff[t])==null?void 0:i.plus)??0,(r=s.actionCoeff[t])!=null&&r.multiply&&(n.multiply+=s.actionCoeff[t].multiply-1));return n}addStatus(t,n,i){const r=xe[t],s={name:r.name,description:r.description,type:t,priority:r.priority,durationType:r.durationType,category:r.category,duration:n,statusLevel:i};this.statuses.push(s)}clearStatus(){this.statuses=this.statuses.filter(t=>t.durationType===_t.Permanent)}clearStatusByCategory(t){this.statuses=this.statuses.filter(n=>n.category!==t)}updateStatusesOnTurnEnd(){this.statuses=this.statuses.filter(t=>(t.durationType===_t.Turn&&(t.duration-=1),t.duration>0))}updateStatusesOnHitStart(){this.statuses=this.statuses.filter(t=>(t.durationType===_t.Hit&&(t.duration-=1),t.duration>0))}applySecondStatuses(){this.statuses.sort((t,n)=>t.priority-n.priority).forEach(t=>{if(t.category===ot.OnSecond){const n=xe[t.type].effect;n(this,t.statusLevel)}}),this.statuses=this.statuses.filter(t=>(t.durationType===_t.Second&&(t.duration-=1),t.duration>0))}}class Ye extends Ir{constructor(n,i){n=n||"吴田所",i=i||ht.Player;super(n,i,0,1);W(this,"log",[]);W(this,"tempLog",[]);W(this,"capturedMonster",[]);W(this,"isAtHome",!0);W(this,"exp",0);W(this,"isPlayer",!0)}getNextLevelExp(){return this.level<=10?100:this.level<=20?100+(this.level-10)*40:500*Math.pow(1.2,this.level-20)}checkLevelUp(){let n=this.getNextLevelExp(),i=!1;for(;this.exp>=n;)this.exp-=n,this.levelup(),i=!0,n=this.getNextLevelExp();return i}getExpDisplay(){const n=this.getNextLevelExp();return`
      <div class="progress" style="height: 2px; position: relative;">
        <div class="progress-bar" role="progressbar" style="width: ${Math.min(100,this.exp/n*100)}%;"
             aria-valuenow="${this.exp}" aria-valuemin="0" aria-valuemax="${n}">
        </div>
      </div>
    `}getHealthDisplay(){const n=Math.min(100,this.health/this.maxHealth*100),i=this.ability.con/5*this.maxHealth/900;return`
    <div class="progress" style="height: 20px; position: relative; background-color: #444;">
      <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger" role="progressbar" style="width: ${n}%;"
           aria-valuenow="${this.health}" aria-valuemin="0" aria-valuemax="${this.maxHealth}">
      </div>
      <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;">
        <div style="text-align: center; line-height: 20px; font-size: 0.9rem; font-weight: bold; color: #fff;">
          hp: ${this.health.toFixed(1)} / ${this.maxHealth.toFixed(1)}
        </div>
        <div style="position: absolute; top: 0; right: 5px; height: 100%; display: flex; align-items: center; font-size: 0.9rem; font-weight: bold; color: #fff;">
          +${i.toFixed(2)}
        </div>
      </div>
    </div>
  `}updateHealthDisplay(){const n=document.getElementById("health-display");n&&(n.innerHTML=this.getHealthDisplay())}autoRecoverHpDot(n=1){const i=this.ability.con/5*this.maxHealth/900*n;this.recoverHp(i)}addLog(n){this.log.push(n)}getLogs(){return this.log.join("<br>")}getLastNLog(n){return this.log.slice(-n).join("<br>")}addTempLog(n){this.tempLog.push(n)}getTempLogs(){return this.tempLog.join("<br>")}clearTempLogs(){this.tempLog=[]}joinTempLogs(){this.log.push(this.tempLog.join("<br>")),this.tempLog=[]}}var z;(function(e){e[e.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",e[e.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",e[e.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"})(z||(z={}));var to=function(){function e(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return e.prototype.addTypeMetadata=function(t){this._typeMetadatas.has(t.target)||this._typeMetadatas.set(t.target,new Map),this._typeMetadatas.get(t.target).set(t.propertyName,t)},e.prototype.addTransformMetadata=function(t){this._transformMetadatas.has(t.target)||this._transformMetadatas.set(t.target,new Map),this._transformMetadatas.get(t.target).has(t.propertyName)||this._transformMetadatas.get(t.target).set(t.propertyName,[]),this._transformMetadatas.get(t.target).get(t.propertyName).push(t)},e.prototype.addExposeMetadata=function(t){this._exposeMetadatas.has(t.target)||this._exposeMetadatas.set(t.target,new Map),this._exposeMetadatas.get(t.target).set(t.propertyName,t)},e.prototype.addExcludeMetadata=function(t){this._excludeMetadatas.has(t.target)||this._excludeMetadatas.set(t.target,new Map),this._excludeMetadatas.get(t.target).set(t.propertyName,t)},e.prototype.findTransformMetadatas=function(t,n,i){return this.findMetadatas(this._transformMetadatas,t,n).filter(function(r){return!r.options||r.options.toClassOnly===!0&&r.options.toPlainOnly===!0?!0:r.options.toClassOnly===!0?i===z.CLASS_TO_CLASS||i===z.PLAIN_TO_CLASS:r.options.toPlainOnly===!0?i===z.CLASS_TO_PLAIN:!0})},e.prototype.findExcludeMetadata=function(t,n){return this.findMetadata(this._excludeMetadatas,t,n)},e.prototype.findExposeMetadata=function(t,n){return this.findMetadata(this._exposeMetadatas,t,n)},e.prototype.findExposeMetadataByCustomName=function(t,n){return this.getExposedMetadatas(t).find(function(i){return i.options&&i.options.name===n})},e.prototype.findTypeMetadata=function(t,n){return this.findMetadata(this._typeMetadatas,t,n)},e.prototype.getStrategy=function(t){var n=this._excludeMetadatas.get(t),i=n&&n.get(void 0),r=this._exposeMetadatas.get(t),s=r&&r.get(void 0);return i&&s||!i&&!s?"none":i?"excludeAll":"exposeAll"},e.prototype.getExposedMetadatas=function(t){return this.getMetadata(this._exposeMetadatas,t)},e.prototype.getExcludedMetadatas=function(t){return this.getMetadata(this._excludeMetadatas,t)},e.prototype.getExposedProperties=function(t,n){return this.getExposedMetadatas(t).filter(function(i){return!i.options||i.options.toClassOnly===!0&&i.options.toPlainOnly===!0?!0:i.options.toClassOnly===!0?n===z.CLASS_TO_CLASS||n===z.PLAIN_TO_CLASS:i.options.toPlainOnly===!0?n===z.CLASS_TO_PLAIN:!0}).map(function(i){return i.propertyName})},e.prototype.getExcludedProperties=function(t,n){return this.getExcludedMetadatas(t).filter(function(i){return!i.options||i.options.toClassOnly===!0&&i.options.toPlainOnly===!0?!0:i.options.toClassOnly===!0?n===z.CLASS_TO_CLASS||n===z.PLAIN_TO_CLASS:i.options.toPlainOnly===!0?n===z.CLASS_TO_PLAIN:!0}).map(function(i){return i.propertyName})},e.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},e.prototype.getMetadata=function(t,n){var i=t.get(n),r;i&&(r=Array.from(i.values()).filter(function(v){return v.propertyName!==void 0}));for(var s=[],o=0,a=this.getAncestors(n);o<a.length;o++){var l=a[o],c=t.get(l);if(c){var u=Array.from(c.values()).filter(function(v){return v.propertyName!==void 0});s.push.apply(s,u)}}return s.concat(r||[])},e.prototype.findMetadata=function(t,n,i){var r=t.get(n);if(r){var s=r.get(i);if(s)return s}for(var o=0,a=this.getAncestors(n);o<a.length;o++){var l=a[o],c=t.get(l);if(c){var u=c.get(i);if(u)return u}}},e.prototype.findMetadatas=function(t,n,i){var r=t.get(n),s;r&&(s=r.get(i));for(var o=[],a=0,l=this.getAncestors(n);a<l.length;a++){var c=l[a],u=t.get(c);u&&u.has(i)&&o.push.apply(o,u.get(i))}return o.slice().reverse().concat((s||[]).slice().reverse())},e.prototype.getAncestors=function(t){if(!t)return[];if(!this._ancestorsMap.has(t)){for(var n=[],i=Object.getPrototypeOf(t.prototype.constructor);typeof i.prototype<"u";i=Object.getPrototypeOf(i.prototype.constructor))n.push(i);this._ancestorsMap.set(t,n)}return this._ancestorsMap.get(t)},e}(),ft=new to;function eo(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}function no(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Yi=function(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,s;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))};function io(e){var t=new e;return!(t instanceof Set)&&!("push"in t)?[]:t}var be=function(){function e(t,n){this.transformationType=t,this.options=n,this.recursionStack=new Set}return e.prototype.transform=function(t,n,i,r,s,o){var a=this;if(o===void 0&&(o=0),Array.isArray(n)||n instanceof Set){var l=r&&this.transformationType===z.PLAIN_TO_CLASS?io(r):[];return n.forEach(function(T,P){var R=t?t[P]:void 0;if(!a.options.enableCircularCheck||!a.isCircular(T)){var I=void 0;if(typeof i!="function"&&i&&i.options&&i.options.discriminator&&i.options.discriminator.property&&i.options.discriminator.subTypes){if(a.transformationType===z.PLAIN_TO_CLASS){I=i.options.discriminator.subTypes.find(function(F){return F.name===T[i.options.discriminator.property]});var L={newObject:l,object:T,property:void 0},x=i.typeFunction(L);I===void 0?I=x:I=I.value,i.options.keepDiscriminatorProperty||delete T[i.options.discriminator.property]}a.transformationType===z.CLASS_TO_CLASS&&(I=T.constructor),a.transformationType===z.CLASS_TO_PLAIN&&(T[i.options.discriminator.property]=i.options.discriminator.subTypes.find(function(F){return F.value===T.constructor}).name)}else I=i;var N=a.transform(R,T,I,void 0,T instanceof Map,o+1);l instanceof Set?l.add(N):l.push(N)}else a.transformationType===z.CLASS_TO_CLASS&&(l instanceof Set?l.add(T):l.push(T))}),l}else{if(i===String&&!s)return n==null?n:String(n);if(i===Number&&!s)return n==null?n:Number(n);if(i===Boolean&&!s)return n==null?n:!!n;if((i===Date||n instanceof Date)&&!s)return n instanceof Date?new Date(n.valueOf()):n==null?n:new Date(n);if(eo().Buffer&&(i===Buffer||n instanceof Buffer)&&!s)return n==null?n:Buffer.from(n);if(no(n)&&!s)return new Promise(function(T,P){n.then(function(R){return T(a.transform(void 0,R,i,void 0,void 0,o+1))},P)});if(!s&&n!==null&&typeof n=="object"&&typeof n.then=="function")return n;if(typeof n=="object"&&n!==null){!i&&n.constructor!==Object&&(!Array.isArray(n)&&n.constructor===Array||(i=n.constructor)),!i&&t&&(i=t.constructor),this.options.enableCircularCheck&&this.recursionStack.add(n);var c=this.getKeys(i,n,s),u=t||{};!t&&(this.transformationType===z.PLAIN_TO_CLASS||this.transformationType===z.CLASS_TO_CLASS)&&(s?u=new Map:i?u=new i:u={});for(var v=function(T){if(T==="__proto__"||T==="constructor")return"continue";var P=T,R=T,I=T;if(!g.options.ignoreDecorators&&i){if(g.transformationType===z.PLAIN_TO_CLASS){var L=ft.findExposeMetadataByCustomName(i,T);L&&(I=L.propertyName,R=L.propertyName)}else if(g.transformationType===z.CLASS_TO_PLAIN||g.transformationType===z.CLASS_TO_CLASS){var L=ft.findExposeMetadata(i,T);L&&L.options&&L.options.name&&(R=L.options.name)}}var x=void 0;g.transformationType===z.PLAIN_TO_CLASS?x=n[P]:n instanceof Map?x=n.get(P):n[P]instanceof Function?x=n[P]():x=n[P];var N=void 0,F=x instanceof Map;if(i&&s)N=i;else if(i){var G=ft.findTypeMetadata(i,I);if(G){var Q={newObject:u,object:n,property:I},U=G.typeFunction?G.typeFunction(Q):G.reflectedType;G.options&&G.options.discriminator&&G.options.discriminator.property&&G.options.discriminator.subTypes?n[P]instanceof Array?N=G:(g.transformationType===z.PLAIN_TO_CLASS&&(N=G.options.discriminator.subTypes.find(function(Y){if(x&&x instanceof Object&&G.options.discriminator.property in x)return Y.name===x[G.options.discriminator.property]}),N===void 0?N=U:N=N.value,G.options.keepDiscriminatorProperty||x&&x instanceof Object&&G.options.discriminator.property in x&&delete x[G.options.discriminator.property]),g.transformationType===z.CLASS_TO_CLASS&&(N=x.constructor),g.transformationType===z.CLASS_TO_PLAIN&&x&&(x[G.options.discriminator.property]=G.options.discriminator.subTypes.find(function(Y){return Y.value===x.constructor}).name)):N=U,F=F||G.reflectedType===Map}else if(g.options.targetMaps)g.options.targetMaps.filter(function(Y){return Y.target===i&&!!Y.properties[I]}).forEach(function(Y){return N=Y.properties[I]});else if(g.options.enableImplicitConversion&&g.transformationType===z.PLAIN_TO_CLASS){var X=Reflect.getMetadata("design:type",i.prototype,I);X&&(N=X)}}var st=Array.isArray(n[P])?g.getReflectedType(i,I):void 0,tt=t?t[P]:void 0;if(u.constructor.prototype){var Et=Object.getOwnPropertyDescriptor(u.constructor.prototype,R);if((g.transformationType===z.PLAIN_TO_CLASS||g.transformationType===z.CLASS_TO_CLASS)&&(Et&&!Et.set||u[R]instanceof Function))return"continue"}if(!g.options.enableCircularCheck||!g.isCircular(x)){var ct=g.transformationType===z.PLAIN_TO_CLASS?R:T,H=void 0;g.transformationType===z.CLASS_TO_PLAIN?(H=n[ct],H=g.applyCustomTransformations(H,i,ct,n,g.transformationType),H=n[ct]===H?x:H,H=g.transform(tt,H,N,st,F,o+1)):x===void 0&&g.options.exposeDefaultValues?H=u[R]:(H=g.transform(tt,x,N,st,F,o+1),H=g.applyCustomTransformations(H,i,ct,n,g.transformationType)),(H!==void 0||g.options.exposeUnsetFields)&&(u instanceof Map?u.set(R,H):u[R]=H)}else if(g.transformationType===z.CLASS_TO_CLASS){var H=x;H=g.applyCustomTransformations(H,i,T,n,g.transformationType),(H!==void 0||g.options.exposeUnsetFields)&&(u instanceof Map?u.set(R,H):u[R]=H)}},g=this,E=0,k=c;E<k.length;E++){var M=k[E];v(M)}return this.options.enableCircularCheck&&this.recursionStack.delete(n),u}else return n}},e.prototype.applyCustomTransformations=function(t,n,i,r,s){var o=this,a=ft.findTransformMetadatas(n,i,this.transformationType);return this.options.version!==void 0&&(a=a.filter(function(l){return l.options?o.checkVersion(l.options.since,l.options.until):!0})),this.options.groups&&this.options.groups.length?a=a.filter(function(l){return l.options?o.checkGroups(l.options.groups):!0}):a=a.filter(function(l){return!l.options||!l.options.groups||!l.options.groups.length}),a.forEach(function(l){t=l.transformFn({value:t,key:i,obj:r,type:s,options:o.options})}),t},e.prototype.isCircular=function(t){return this.recursionStack.has(t)},e.prototype.getReflectedType=function(t,n){if(t){var i=ft.findTypeMetadata(t,n);return i?i.reflectedType:void 0}},e.prototype.getKeys=function(t,n,i){var r=this,s=ft.getStrategy(t);s==="none"&&(s=this.options.strategy||"exposeAll");var o=[];if((s==="exposeAll"||i)&&(n instanceof Map?o=Array.from(n.keys()):o=Object.keys(n)),i)return o;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&t){var a=ft.getExposedProperties(t,this.transformationType),l=ft.getExcludedProperties(t,this.transformationType);o=Yi(Yi([],a,!0),l,!0)}if(!this.options.ignoreDecorators&&t){var a=ft.getExposedProperties(t,this.transformationType);this.transformationType===z.PLAIN_TO_CLASS&&(a=a.map(function(v){var g=ft.findExposeMetadata(t,v);return g&&g.options&&g.options.name?g.options.name:v})),this.options.excludeExtraneousValues?o=a:o=o.concat(a);var c=ft.getExcludedProperties(t,this.transformationType);c.length>0&&(o=o.filter(function(v){return!c.includes(v)})),this.options.version!==void 0&&(o=o.filter(function(v){var g=ft.findExposeMetadata(t,v);return!g||!g.options?!0:r.checkVersion(g.options.since,g.options.until)})),this.options.groups&&this.options.groups.length?o=o.filter(function(v){var g=ft.findExposeMetadata(t,v);return!g||!g.options?!0:r.checkGroups(g.options.groups)}):o=o.filter(function(v){var g=ft.findExposeMetadata(t,v);return!g||!g.options||!g.options.groups||!g.options.groups.length})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(o=o.filter(function(u){return r.options.excludePrefixes.every(function(v){return u.substr(0,v.length)!==v})})),o=o.filter(function(u,v,g){return g.indexOf(u)===v}),o},e.prototype.checkVersion=function(t,n){var i=!0;return i&&t&&(i=this.options.version>=t),i&&n&&(i=this.options.version<n),i},e.prototype.checkGroups=function(t){return t?this.options.groups.some(function(n){return t.includes(n)}):!0},e}(),ye={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},pt=function(){return pt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},pt.apply(this,arguments)},ro=function(){function e(){}return e.prototype.instanceToPlain=function(t,n){var i=new be(z.CLASS_TO_PLAIN,pt(pt({},ye),n));return i.transform(void 0,t,void 0,void 0,void 0,void 0)},e.prototype.classToPlainFromExist=function(t,n,i){var r=new be(z.CLASS_TO_PLAIN,pt(pt({},ye),i));return r.transform(n,t,void 0,void 0,void 0,void 0)},e.prototype.plainToInstance=function(t,n,i){var r=new be(z.PLAIN_TO_CLASS,pt(pt({},ye),i));return r.transform(void 0,n,t,void 0,void 0,void 0)},e.prototype.plainToClassFromExist=function(t,n,i){var r=new be(z.PLAIN_TO_CLASS,pt(pt({},ye),i));return r.transform(t,n,void 0,void 0,void 0,void 0)},e.prototype.instanceToInstance=function(t,n){var i=new be(z.CLASS_TO_CLASS,pt(pt({},ye),n));return i.transform(void 0,t,void 0,void 0,void 0,void 0)},e.prototype.classToClassFromExist=function(t,n,i){var r=new be(z.CLASS_TO_CLASS,pt(pt({},ye),i));return r.transform(n,t,void 0,void 0,void 0,void 0)},e.prototype.serialize=function(t,n){return JSON.stringify(this.instanceToPlain(t,n))},e.prototype.deserialize=function(t,n,i){var r=JSON.parse(n);return this.plainToInstance(t,r,i)},e.prototype.deserializeArray=function(t,n,i){var r=JSON.parse(n);return this.plainToInstance(t,r,i)},e}(),Rr=new ro;function so(e,t){return Rr.instanceToPlain(e,t)}function fn(e,t,n){return Rr.plainToInstance(e,t,n)}let Un=-1,Yn=-1,qn=-1;function hi(e){Un!==-1&&clearInterval(Un),Yn!==-1&&clearInterval(Yn),qn!==-1&&clearInterval(qn),Un=setInterval(()=>{e.isAtHome&&(e.autoRecoverHpDot(),e.updateHealthDisplay())},1e3),Yn=setInterval(()=>{e.isAtHome&&Vt(e)},1e4),qn=setInterval(()=>{e.isAtHome&&e.applySecondStatuses()},1e3)}function Vt(e){const t=so(e);localStorage.setItem("playerData",JSON.stringify(t))}function oo(){const e=localStorage.getItem("playerData");if(!e)throw new Error("No player data found");const t=JSON.parse(e),n=fn(Ye,t);return hi(n),n.pack=t.pack.map(r=>r.category===ae.Equipment?fn($t,r):r.category===ae.Consumable?fn(wt,r):r),Object.keys(n.equipments).forEach(r=>{n.equipments[r]&&(n.equipments[r]=fn($t,n.equipments[r]))}),n.clearStatus(),n}const ao="/otherworld114514/assets/player-8N5Sf3fj.gif";function Ct(){const e=document.getElementById("app");if(!e)throw new Error("无法找到挂载点 #app");return e}var lt="top",vt="bottom",bt="right",dt="left",kn="auto",Ie=[lt,vt,bt,dt],le="start",$e="end",Hr="clippingParents",Ai="viewport",Ae="popper",Gr="reference",gi=Ie.reduce(function(e,t){return e.concat([t+"-"+le,t+"-"+$e])},[]),Ti=[].concat(Ie,[kn]).reduce(function(e,t){return e.concat([t,t+"-"+le,t+"-"+$e])},[]),zr="beforeRead",Br="read",jr="afterRead",Wr="beforeMain",Fr="main",Vr="afterMain",Kr="beforeWrite",Ur="write",Yr="afterWrite",qr=[zr,Br,jr,Wr,Fr,Vr,Kr,Ur,Yr];function It(e){return e?(e.nodeName||"").toLowerCase():null}function yt(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function de(e){var t=yt(e).Element;return e instanceof t||e instanceof Element}function At(e){var t=yt(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Si(e){if(typeof ShadowRoot>"u")return!1;var t=yt(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function co(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var i=t.styles[n]||{},r=t.attributes[n]||{},s=t.elements[n];!At(s)||!It(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function lo(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],s=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:n[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!At(r)||!It(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}const Ci={name:"applyStyles",enabled:!0,phase:"write",fn:co,effect:lo,requires:["computeStyles"]};function Mt(e){return e.split("-")[0]}var oe=Math.max,xn=Math.min,Le=Math.round;function mi(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Qr(){return!/^((?!chrome|android).)*safari/i.test(mi())}function De(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=e.getBoundingClientRect(),r=1,s=1;t&&At(e)&&(r=e.offsetWidth>0&&Le(i.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Le(i.height)/e.offsetHeight||1);var o=de(e)?yt(e):window,a=o.visualViewport,l=!Qr()&&n,c=(i.left+(l&&a?a.offsetLeft:0))/r,u=(i.top+(l&&a?a.offsetTop:0))/s,v=i.width/r,g=i.height/s;return{width:v,height:g,top:u,right:c+v,bottom:u+g,left:c,x:c,y:u}}function xi(e){var t=De(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function Xr(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Si(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function zt(e){return yt(e).getComputedStyle(e)}function uo(e){return["table","td","th"].indexOf(It(e))>=0}function Qt(e){return((de(e)?e.ownerDocument:e.document)||window.document).documentElement}function Mn(e){return It(e)==="html"?e:e.assignedSlot||e.parentNode||(Si(e)?e.host:null)||Qt(e)}function qi(e){return!At(e)||zt(e).position==="fixed"?null:e.offsetParent}function fo(e){var t=/firefox/i.test(mi()),n=/Trident/i.test(mi());if(n&&At(e)){var i=zt(e);if(i.position==="fixed")return null}var r=Mn(e);for(Si(r)&&(r=r.host);At(r)&&["html","body"].indexOf(It(r))<0;){var s=zt(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Xe(e){for(var t=yt(e),n=qi(e);n&&uo(n)&&zt(n).position==="static";)n=qi(n);return n&&(It(n)==="html"||It(n)==="body"&&zt(n).position==="static")?t:n||fo(e)||t}function Oi(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Fe(e,t,n){return oe(e,xn(t,n))}function po(e,t,n){var i=Fe(e,t,n);return i>n?n:i}function Jr(){return{top:0,right:0,bottom:0,left:0}}function Zr(e){return Object.assign({},Jr(),e)}function ts(e,t){return t.reduce(function(n,i){return n[i]=e,n},{})}var ho=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Zr(typeof t!="number"?t:ts(t,Ie))};function go(e){var t,n=e.state,i=e.name,r=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Mt(n.placement),l=Oi(a),c=[dt,bt].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var v=ho(r.padding,n),g=xi(s),E=l==="y"?lt:dt,k=l==="y"?vt:bt,M=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],T=o[l]-n.rects.reference[l],P=Xe(s),R=P?l==="y"?P.clientHeight||0:P.clientWidth||0:0,I=M/2-T/2,L=v[E],x=R-g[u]-v[k],N=R/2-g[u]/2+I,F=Fe(L,N,x),G=l;n.modifiersData[i]=(t={},t[G]=F,t.centerOffset=F-N,t)}}function mo(e){var t=e.state,n=e.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||Xr(t.elements.popper,r)&&(t.elements.arrow=r))}const es={name:"arrow",enabled:!0,phase:"main",fn:go,effect:mo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ne(e){return e.split("-")[1]}var _o={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vo(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:Le(n*r)/r||0,y:Le(i*r)/r||0}}function Qi(e){var t,n=e.popper,i=e.popperRect,r=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,v=e.isFixed,g=o.x,E=g===void 0?0:g,k=o.y,M=k===void 0?0:k,T=typeof u=="function"?u({x:E,y:M}):{x:E,y:M};E=T.x,M=T.y;var P=o.hasOwnProperty("x"),R=o.hasOwnProperty("y"),I=dt,L=lt,x=window;if(c){var N=Xe(n),F="clientHeight",G="clientWidth";if(N===yt(n)&&(N=Qt(n),zt(N).position!=="static"&&a==="absolute"&&(F="scrollHeight",G="scrollWidth")),N=N,r===lt||(r===dt||r===bt)&&s===$e){L=vt;var Q=v&&N===x&&x.visualViewport?x.visualViewport.height:N[F];M-=Q-i.height,M*=l?1:-1}if(r===dt||(r===lt||r===vt)&&s===$e){I=bt;var U=v&&N===x&&x.visualViewport?x.visualViewport.width:N[G];E-=U-i.width,E*=l?1:-1}}var X=Object.assign({position:a},c&&_o),st=u===!0?vo({x:E,y:M},yt(n)):{x:E,y:M};if(E=st.x,M=st.y,l){var tt;return Object.assign({},X,(tt={},tt[L]=R?"0":"",tt[I]=P?"0":"",tt.transform=(x.devicePixelRatio||1)<=1?"translate("+E+"px, "+M+"px)":"translate3d("+E+"px, "+M+"px, 0)",tt))}return Object.assign({},X,(t={},t[L]=R?M+"px":"",t[I]=P?E+"px":"",t.transform="",t))}function bo(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Mt(t.placement),variation:Ne(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Qi(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Qi(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const $i={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bo,data:{}};var pn={passive:!0};function yo(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=yt(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,pn)}),a&&l.addEventListener("resize",n.update,pn),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,pn)}),a&&l.removeEventListener("resize",n.update,pn)}}const Li={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:yo,data:{}};var Eo={left:"right",right:"left",bottom:"top",top:"bottom"};function En(e){return e.replace(/left|right|bottom|top/g,function(t){return Eo[t]})}var wo={start:"end",end:"start"};function Xi(e){return e.replace(/start|end/g,function(t){return wo[t]})}function Di(e){var t=yt(e),n=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Ni(e){return De(Qt(e)).left+Di(e).scrollLeft}function Ao(e,t){var n=yt(e),i=Qt(e),r=n.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=Qr();(c||!c&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+Ni(e),y:l}}function To(e){var t,n=Qt(e),i=Di(e),r=(t=e.ownerDocument)==null?void 0:t.body,s=oe(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=oe(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+Ni(e),l=-i.scrollTop;return zt(r||n).direction==="rtl"&&(a+=oe(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function ki(e){var t=zt(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function ns(e){return["html","body","#document"].indexOf(It(e))>=0?e.ownerDocument.body:At(e)&&ki(e)?e:ns(Mn(e))}function Ve(e,t){var n;t===void 0&&(t=[]);var i=ns(e),r=i===((n=e.ownerDocument)==null?void 0:n.body),s=yt(i),o=r?[s].concat(s.visualViewport||[],ki(i)?i:[]):i,a=t.concat(o);return r?a:a.concat(Ve(Mn(o)))}function _i(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function So(e,t){var n=De(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Ji(e,t,n){return t===Ai?_i(Ao(e,n)):de(t)?So(t,n):_i(To(Qt(e)))}function Co(e){var t=Ve(Mn(e)),n=["absolute","fixed"].indexOf(zt(e).position)>=0,i=n&&At(e)?Xe(e):e;return de(i)?t.filter(function(r){return de(r)&&Xr(r,i)&&It(r)!=="body"}):[]}function xo(e,t,n,i){var r=t==="clippingParents"?Co(e):[].concat(t),s=[].concat(r,[n]),o=s[0],a=s.reduce(function(l,c){var u=Ji(e,c,i);return l.top=oe(u.top,l.top),l.right=xn(u.right,l.right),l.bottom=xn(u.bottom,l.bottom),l.left=oe(u.left,l.left),l},Ji(e,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function is(e){var t=e.reference,n=e.element,i=e.placement,r=i?Mt(i):null,s=i?Ne(i):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(r){case lt:l={x:o,y:t.y-n.height};break;case vt:l={x:o,y:t.y+t.height};break;case bt:l={x:t.x+t.width,y:a};break;case dt:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=r?Oi(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case le:l[c]=l[c]-(t[u]/2-n[u]/2);break;case $e:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}function ke(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=i===void 0?e.placement:i,s=n.strategy,o=s===void 0?e.strategy:s,a=n.boundary,l=a===void 0?Hr:a,c=n.rootBoundary,u=c===void 0?Ai:c,v=n.elementContext,g=v===void 0?Ae:v,E=n.altBoundary,k=E===void 0?!1:E,M=n.padding,T=M===void 0?0:M,P=Zr(typeof T!="number"?T:ts(T,Ie)),R=g===Ae?Gr:Ae,I=e.rects.popper,L=e.elements[k?R:g],x=xo(de(L)?L:L.contextElement||Qt(e.elements.popper),l,u,o),N=De(e.elements.reference),F=is({reference:N,element:I,placement:r}),G=_i(Object.assign({},I,F)),Q=g===Ae?G:N,U={top:x.top-Q.top+P.top,bottom:Q.bottom-x.bottom+P.bottom,left:x.left-Q.left+P.left,right:Q.right-x.right+P.right},X=e.modifiersData.offset;if(g===Ae&&X){var st=X[r];Object.keys(U).forEach(function(tt){var Et=[bt,vt].indexOf(tt)>=0?1:-1,ct=[lt,vt].indexOf(tt)>=0?"y":"x";U[tt]+=st[ct]*Et})}return U}function Oo(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Ti:l,u=Ne(i),v=u?a?gi:gi.filter(function(k){return Ne(k)===u}):Ie,g=v.filter(function(k){return c.indexOf(k)>=0});g.length===0&&(g=v);var E=g.reduce(function(k,M){return k[M]=ke(e,{placement:M,boundary:r,rootBoundary:s,padding:o})[Mt(M)],k},{});return Object.keys(E).sort(function(k,M){return E[k]-E[M]})}function $o(e){if(Mt(e)===kn)return[];var t=En(e);return[Xi(e),t,Xi(t)]}function Lo(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,v=n.rootBoundary,g=n.altBoundary,E=n.flipVariations,k=E===void 0?!0:E,M=n.allowedAutoPlacements,T=t.options.placement,P=Mt(T),R=P===T,I=l||(R||!k?[En(T)]:$o(T)),L=[T].concat(I).reduce(function(mt,Nt){return mt.concat(Mt(Nt)===kn?Oo(t,{placement:Nt,boundary:u,rootBoundary:v,padding:c,flipVariations:k,allowedAutoPlacements:M}):Nt)},[]),x=t.rects.reference,N=t.rects.popper,F=new Map,G=!0,Q=L[0],U=0;U<L.length;U++){var X=L[U],st=Mt(X),tt=Ne(X)===le,Et=[lt,vt].indexOf(st)>=0,ct=Et?"width":"height",H=ke(t,{placement:X,boundary:u,rootBoundary:v,altBoundary:g,padding:c}),Y=Et?tt?bt:dt:tt?vt:lt;x[ct]>N[ct]&&(Y=En(Y));var Zt=En(Y),Dt=[];if(s&&Dt.push(H[st]<=0),a&&Dt.push(H[Y]<=0,H[Zt]<=0),Dt.every(function(mt){return mt})){Q=X,G=!1;break}F.set(X,Dt)}if(G)for(var te=k?3:1,pe=function(Nt){var V=L.find(function(he){var Rt=F.get(he);if(Rt)return Rt.slice(0,Nt).every(function(ge){return ge})});if(V)return Q=V,"break"},jt=te;jt>0;jt--){var $=pe(jt);if($==="break")break}t.placement!==Q&&(t.modifiersData[i]._skip=!0,t.placement=Q,t.reset=!0)}}const rs={name:"flip",enabled:!0,phase:"main",fn:Lo,requiresIfExists:["offset"],data:{_skip:!1}};function Zi(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function tr(e){return[lt,bt,vt,dt].some(function(t){return e[t]>=0})}function Do(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,s=t.modifiersData.preventOverflow,o=ke(t,{elementContext:"reference"}),a=ke(t,{altBoundary:!0}),l=Zi(o,i),c=Zi(a,r,s),u=tr(l),v=tr(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":v})}const ss={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Do};function No(e,t,n){var i=Mt(e),r=[dt,lt].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[dt,bt].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function ko(e){var t=e.state,n=e.options,i=e.name,r=n.offset,s=r===void 0?[0,0]:r,o=Ti.reduce(function(u,v){return u[v]=No(v,t.rects,s),u},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=o}const os={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ko};function Mo(e){var t=e.state,n=e.name;t.modifiersData[n]=is({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const Mi={name:"popperOffsets",enabled:!0,phase:"read",fn:Mo,data:{}};function Po(e){return e==="x"?"y":"x"}function Io(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,v=n.padding,g=n.tether,E=g===void 0?!0:g,k=n.tetherOffset,M=k===void 0?0:k,T=ke(t,{boundary:l,rootBoundary:c,padding:v,altBoundary:u}),P=Mt(t.placement),R=Ne(t.placement),I=!R,L=Oi(P),x=Po(L),N=t.modifiersData.popperOffsets,F=t.rects.reference,G=t.rects.popper,Q=typeof M=="function"?M(Object.assign({},t.rects,{placement:t.placement})):M,U=typeof Q=="number"?{mainAxis:Q,altAxis:Q}:Object.assign({mainAxis:0,altAxis:0},Q),X=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,st={x:0,y:0};if(N){if(s){var tt,Et=L==="y"?lt:dt,ct=L==="y"?vt:bt,H=L==="y"?"height":"width",Y=N[L],Zt=Y+T[Et],Dt=Y-T[ct],te=E?-G[H]/2:0,pe=R===le?F[H]:G[H],jt=R===le?-G[H]:-F[H],$=t.elements.arrow,mt=E&&$?xi($):{width:0,height:0},Nt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Jr(),V=Nt[Et],he=Nt[ct],Rt=Fe(0,F[H],mt[H]),ge=I?F[H]/2-te-Rt-V-U.mainAxis:pe-Rt-V-U.mainAxis,Wn=I?-F[H]/2+te+Rt+he+U.mainAxis:jt+Rt+he+U.mainAxis,ut=t.elements.arrow&&Xe(t.elements.arrow),rn=ut?L==="y"?ut.clientTop||0:ut.clientLeft||0:0,ee=(tt=X==null?void 0:X[L])!=null?tt:0,sn=Y+ge-ee-rn,Fn=Y+Wn-ee,me=Fe(E?xn(Zt,sn):Zt,Y,E?oe(Dt,Fn):Dt);N[L]=me,st[L]=me-Y}if(a){var Ge,on=L==="x"?lt:dt,an=L==="x"?vt:bt,kt=N[x],ne=x==="y"?"height":"width",_e=kt+T[on],cn=kt-T[an],ze=[lt,dt].indexOf(P)!==-1,ln=(Ge=X==null?void 0:X[x])!=null?Ge:0,dn=ze?_e:kt-F[ne]-G[ne]-ln+U.altAxis,Wt=ze?kt+F[ne]+G[ne]-ln-U.altAxis:cn,un=E&&ze?po(dn,kt,Wt):Fe(E?dn:_e,kt,E?Wt:cn);N[x]=un,st[x]=un-kt}t.modifiersData[i]=st}}const as={name:"preventOverflow",enabled:!0,phase:"main",fn:Io,requiresIfExists:["offset"]};function Ro(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Ho(e){return e===yt(e)||!At(e)?Di(e):Ro(e)}function Go(e){var t=e.getBoundingClientRect(),n=Le(t.width)/e.offsetWidth||1,i=Le(t.height)/e.offsetHeight||1;return n!==1||i!==1}function zo(e,t,n){n===void 0&&(n=!1);var i=At(t),r=At(t)&&Go(t),s=Qt(t),o=De(e,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((It(t)!=="body"||ki(s))&&(a=Ho(t)),At(t)?(l=De(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=Ni(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Bo(e){var t=new Map,n=new Set,i=[];e.forEach(function(s){t.set(s.name,s)});function r(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&r(l)}}),i.push(s)}return e.forEach(function(s){n.has(s.name)||r(s)}),i}function jo(e){var t=Bo(e);return qr.reduce(function(n,i){return n.concat(t.filter(function(r){return r.phase===i}))},[])}function Wo(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Fo(e){var t=e.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(t).map(function(n){return t[n]})}var er={placement:"bottom",modifiers:[],strategy:"absolute"};function nr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Pn(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,i=n===void 0?[]:n,r=t.defaultOptions,s=r===void 0?er:r;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},er,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},v=[],g=!1,E={state:u,setOptions:function(P){var R=typeof P=="function"?P(u.options):P;M(),u.options=Object.assign({},s,u.options,R),u.scrollParents={reference:de(a)?Ve(a):a.contextElement?Ve(a.contextElement):[],popper:Ve(l)};var I=jo(Fo([].concat(i,u.options.modifiers)));return u.orderedModifiers=I.filter(function(L){return L.enabled}),k(),E.update()},forceUpdate:function(){if(!g){var P=u.elements,R=P.reference,I=P.popper;if(nr(R,I)){u.rects={reference:zo(R,Xe(I),u.options.strategy==="fixed"),popper:xi(I)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(U){return u.modifiersData[U.name]=Object.assign({},U.data)});for(var L=0;L<u.orderedModifiers.length;L++){if(u.reset===!0){u.reset=!1,L=-1;continue}var x=u.orderedModifiers[L],N=x.fn,F=x.options,G=F===void 0?{}:F,Q=x.name;typeof N=="function"&&(u=N({state:u,options:G,name:Q,instance:E})||u)}}}},update:Wo(function(){return new Promise(function(T){E.forceUpdate(),T(u)})}),destroy:function(){M(),g=!0}};if(!nr(a,l))return E;E.setOptions(c).then(function(T){!g&&c.onFirstUpdate&&c.onFirstUpdate(T)});function k(){u.orderedModifiers.forEach(function(T){var P=T.name,R=T.options,I=R===void 0?{}:R,L=T.effect;if(typeof L=="function"){var x=L({state:u,name:P,instance:E,options:I}),N=function(){};v.push(x||N)}})}function M(){v.forEach(function(T){return T()}),v=[]}return E}}var Vo=Pn(),Ko=[Li,Mi,$i,Ci],Uo=Pn({defaultModifiers:Ko}),Yo=[Li,Mi,$i,Ci,os,rs,as,es,ss],Pi=Pn({defaultModifiers:Yo});const cs=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Vr,afterRead:jr,afterWrite:Yr,applyStyles:Ci,arrow:es,auto:kn,basePlacements:Ie,beforeMain:Wr,beforeRead:zr,beforeWrite:Kr,bottom:vt,clippingParents:Hr,computeStyles:$i,createPopper:Pi,createPopperBase:Vo,createPopperLite:Uo,detectOverflow:ke,end:$e,eventListeners:Li,flip:rs,hide:ss,left:dt,main:Fr,modifierPhases:qr,offset:os,placements:Ti,popper:Ae,popperGenerator:Pn,popperOffsets:Mi,preventOverflow:as,read:Br,reference:Gr,right:bt,start:le,top:lt,variationPlacements:gi,viewport:Ai,write:Ur},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Ft=new Map,Qn={set(e,t,n){Ft.has(e)||Ft.set(e,new Map);const i=Ft.get(e);if(!i.has(t)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(t,n)},get(e,t){return Ft.has(e)&&Ft.get(e).get(t)||null},remove(e,t){if(!Ft.has(e))return;const n=Ft.get(e);n.delete(t),n.size===0&&Ft.delete(e)}},qo=1e6,Qo=1e3,vi="transitionend",ls=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,n)=>`#${CSS.escape(n)}`)),e),Xo=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),Jo=e=>{do e+=Math.floor(Math.random()*qo);while(document.getElementById(e));return e},Zo=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const i=Number.parseFloat(t),r=Number.parseFloat(n);return!i&&!r?0:(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*Qo)},ds=e=>{e.dispatchEvent(new Event(vi))},Ht=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),Kt=e=>Ht(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(ls(e)):null,Re=e=>{if(!Ht(e)||e.getClientRects().length===0)return!1;const t=getComputedStyle(e).getPropertyValue("visibility")==="visible",n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const i=e.closest("summary");if(i&&i.parentNode!==n||i===null)return!1}return t},Ut=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",us=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?us(e.parentNode):null},On=()=>{},Je=e=>{e.offsetHeight},fs=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Xn=[],ta=e=>{document.readyState==="loading"?(Xn.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of Xn)t()}),Xn.push(e)):e()},Tt=()=>document.documentElement.dir==="rtl",xt=e=>{ta(()=>{const t=fs();if(t){const n=e.NAME,i=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=i,e.jQueryInterface)}})},gt=(e,t=[],n=e)=>typeof e=="function"?e(...t):n,ps=(e,t,n=!0)=>{if(!n){gt(e);return}const r=Zo(t)+5;let s=!1;const o=({target:a})=>{a===t&&(s=!0,t.removeEventListener(vi,o),gt(e))};t.addEventListener(vi,o),setTimeout(()=>{s||ds(t)},r)},Ii=(e,t,n,i)=>{const r=e.length;let s=e.indexOf(t);return s===-1?!n&&i?e[r-1]:e[0]:(s+=n?1:-1,i&&(s=(s+r)%r),e[Math.max(0,Math.min(s,r-1))])},ea=/[^.]*(?=\..*)\.|.*/,na=/\..*/,ia=/::\d+$/,Jn={};let ir=1;const hs={mouseenter:"mouseover",mouseleave:"mouseout"},ra=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function gs(e,t){return t&&`${t}::${ir++}`||e.uidEvent||ir++}function ms(e){const t=gs(e);return e.uidEvent=t,Jn[t]=Jn[t]||{},Jn[t]}function sa(e,t){return function n(i){return Ri(i,{delegateTarget:e}),n.oneOff&&m.off(e,i.type,t),t.apply(e,[i])}}function oa(e,t,n){return function i(r){const s=e.querySelectorAll(t);for(let{target:o}=r;o&&o!==this;o=o.parentNode)for(const a of s)if(a===o)return Ri(r,{delegateTarget:o}),i.oneOff&&m.off(e,r.type,t,n),n.apply(o,[r])}}function _s(e,t,n=null){return Object.values(e).find(i=>i.callable===t&&i.delegationSelector===n)}function vs(e,t,n){const i=typeof t=="string",r=i?n:t||n;let s=bs(e);return ra.has(s)||(s=e),[i,r,s]}function rr(e,t,n,i,r){if(typeof t!="string"||!e)return;let[s,o,a]=vs(t,n,i);t in hs&&(o=(k=>function(M){if(!M.relatedTarget||M.relatedTarget!==M.delegateTarget&&!M.delegateTarget.contains(M.relatedTarget))return k.call(this,M)})(o));const l=ms(e),c=l[a]||(l[a]={}),u=_s(c,o,s?n:null);if(u){u.oneOff=u.oneOff&&r;return}const v=gs(o,t.replace(ea,"")),g=s?oa(e,n,o):sa(e,o);g.delegationSelector=s?n:null,g.callable=o,g.oneOff=r,g.uidEvent=v,c[v]=g,e.addEventListener(a,g,s)}function bi(e,t,n,i,r){const s=_s(t[n],i,r);s&&(e.removeEventListener(n,s,!!r),delete t[n][s.uidEvent])}function aa(e,t,n,i){const r=t[n]||{};for(const[s,o]of Object.entries(r))s.includes(i)&&bi(e,t,n,o.callable,o.delegationSelector)}function bs(e){return e=e.replace(na,""),hs[e]||e}const m={on(e,t,n,i){rr(e,t,n,i,!1)},one(e,t,n,i){rr(e,t,n,i,!0)},off(e,t,n,i){if(typeof t!="string"||!e)return;const[r,s,o]=vs(t,n,i),a=o!==t,l=ms(e),c=l[o]||{},u=t.startsWith(".");if(typeof s<"u"){if(!Object.keys(c).length)return;bi(e,l,o,s,r?n:null);return}if(u)for(const v of Object.keys(l))aa(e,l,v,t.slice(1));for(const[v,g]of Object.entries(c)){const E=v.replace(ia,"");(!a||t.includes(E))&&bi(e,l,o,g.callable,g.delegationSelector)}},trigger(e,t,n){if(typeof t!="string"||!e)return null;const i=fs(),r=bs(t),s=t!==r;let o=null,a=!0,l=!0,c=!1;s&&i&&(o=i.Event(t,n),i(e).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());const u=Ri(new Event(t,{bubbles:a,cancelable:!0}),n);return c&&u.preventDefault(),l&&e.dispatchEvent(u),u.defaultPrevented&&o&&o.preventDefault(),u}};function Ri(e,t={}){for(const[n,i]of Object.entries(t))try{e[n]=i}catch{Object.defineProperty(e,n,{configurable:!0,get(){return i}})}return e}function sr(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function Zn(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Gt={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${Zn(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${Zn(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of n){let r=i.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=sr(e.dataset[i])}return t},getDataAttribute(e,t){return sr(e.getAttribute(`data-bs-${Zn(t)}`))}};class Ze{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){const i=Ht(n)?Gt.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...Ht(n)?Gt.getDataAttributes(n):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const[i,r]of Object.entries(n)){const s=t[i],o=Ht(s)?"element":Xo(s);if(!new RegExp(r).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${r}".`)}}}const ca="5.3.3";class Lt extends Ze{constructor(t,n){super(),t=Kt(t),t&&(this._element=t,this._config=this._getConfig(n),Qn.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Qn.remove(this._element,this.constructor.DATA_KEY),m.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,i=!0){ps(t,n,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Qn.get(Kt(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,typeof n=="object"?n:null)}static get VERSION(){return ca}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const ti=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&n!=="#"?n.trim():null}return t?t.split(",").map(n=>ls(n)).join(","):null},O={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(n=>n.matches(t))},parents(e,t){const n=[];let i=e.parentNode.closest(t);for(;i;)n.push(i),i=i.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(n=>!Ut(n)&&Re(n))},getSelectorFromElement(e){const t=ti(e);return t&&O.findOne(t)?t:null},getElementFromSelector(e){const t=ti(e);return t?O.findOne(t):null},getMultipleElementsFromSelector(e){const t=ti(e);return t?O.find(t):[]}},In=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,i=e.NAME;m.on(document,n,`[data-bs-dismiss="${i}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),Ut(this))return;const s=O.getElementFromSelector(this)||this.closest(`.${i}`);e.getOrCreateInstance(s)[t]()})},la="alert",da="bs.alert",ys=`.${da}`,ua=`close${ys}`,fa=`closed${ys}`,pa="fade",ha="show";class Rn extends Lt{static get NAME(){return la}close(){if(m.trigger(this._element,ua).defaultPrevented)return;this._element.classList.remove(ha);const n=this._element.classList.contains(pa);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),m.trigger(this._element,fa),this.dispose()}static jQueryInterface(t){return this.each(function(){const n=Rn.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}In(Rn,"close");xt(Rn);const ga="button",ma="bs.button",_a=`.${ma}`,va=".data-api",ba="active",or='[data-bs-toggle="button"]',ya=`click${_a}${va}`;class Hn extends Lt{static get NAME(){return ga}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(ba))}static jQueryInterface(t){return this.each(function(){const n=Hn.getOrCreateInstance(this);t==="toggle"&&n[t]()})}}m.on(document,ya,or,e=>{e.preventDefault();const t=e.target.closest(or);Hn.getOrCreateInstance(t).toggle()});xt(Hn);const Ea="swipe",He=".bs.swipe",wa=`touchstart${He}`,Aa=`touchmove${He}`,Ta=`touchend${He}`,Sa=`pointerdown${He}`,Ca=`pointerup${He}`,xa="touch",Oa="pen",$a="pointer-event",La=40,Da={endCallback:null,leftCallback:null,rightCallback:null},Na={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class $n extends Ze{constructor(t,n){super(),this._element=t,!(!t||!$n.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Da}static get DefaultType(){return Na}static get NAME(){return Ea}dispose(){m.off(this._element,He)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),gt(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=La)return;const n=t/this._deltaX;this._deltaX=0,n&&gt(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(m.on(this._element,Sa,t=>this._start(t)),m.on(this._element,Ca,t=>this._end(t)),this._element.classList.add($a)):(m.on(this._element,wa,t=>this._start(t)),m.on(this._element,Aa,t=>this._move(t)),m.on(this._element,Ta,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===Oa||t.pointerType===xa)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ka="carousel",Ma="bs.carousel",Xt=`.${Ma}`,Es=".data-api",Pa="ArrowLeft",Ia="ArrowRight",Ra=500,je="next",Ee="prev",Te="left",wn="right",Ha=`slide${Xt}`,ei=`slid${Xt}`,Ga=`keydown${Xt}`,za=`mouseenter${Xt}`,Ba=`mouseleave${Xt}`,ja=`dragstart${Xt}`,Wa=`load${Xt}${Es}`,Fa=`click${Xt}${Es}`,ws="carousel",hn="active",Va="slide",Ka="carousel-item-end",Ua="carousel-item-start",Ya="carousel-item-next",qa="carousel-item-prev",As=".active",Ts=".carousel-item",Qa=As+Ts,Xa=".carousel-item img",Ja=".carousel-indicators",Za="[data-bs-slide], [data-bs-slide-to]",tc='[data-bs-ride="carousel"]',ec={[Pa]:wn,[Ia]:Te},nc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ic={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class tn extends Lt{constructor(t,n){super(t,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=O.findOne(Ja,this._element),this._addEventListeners(),this._config.ride===ws&&this.cycle()}static get Default(){return nc}static get DefaultType(){return ic}static get NAME(){return ka}next(){this._slide(je)}nextWhenVisible(){!document.hidden&&Re(this._element)&&this.next()}prev(){this._slide(Ee)}pause(){this._isSliding&&ds(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){m.one(this._element,ei,()=>this.cycle());return}this.cycle()}}to(t){const n=this._getItems();if(t>n.length-1||t<0)return;if(this._isSliding){m.one(this._element,ei,()=>this.to(t));return}const i=this._getItemIndex(this._getActive());if(i===t)return;const r=t>i?je:Ee;this._slide(r,n[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&m.on(this._element,Ga,t=>this._keydown(t)),this._config.pause==="hover"&&(m.on(this._element,za,()=>this.pause()),m.on(this._element,Ba,()=>this._maybeEnableCycle())),this._config.touch&&$n.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of O.find(Xa,this._element))m.on(i,ja,r=>r.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(Te)),rightCallback:()=>this._slide(this._directionToOrder(wn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Ra+this._config.interval))}};this._swipeHelper=new $n(this._element,n)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const n=ec[t.key];n&&(t.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const n=O.findOne(As,this._indicatorsElement);n.classList.remove(hn),n.removeAttribute("aria-current");const i=O.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(hn),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const n=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(t,n=null){if(this._isSliding)return;const i=this._getActive(),r=t===je,s=n||Ii(this._getItems(),i,r,this._config.wrap);if(s===i)return;const o=this._getItemIndex(s),a=E=>m.trigger(this._element,E,{relatedTarget:s,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:o});if(a(Ha).defaultPrevented||!i||!s)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const u=r?Ua:Ka,v=r?Ya:qa;s.classList.add(v),Je(s),i.classList.add(u),s.classList.add(u);const g=()=>{s.classList.remove(u,v),s.classList.add(hn),i.classList.remove(hn,v,u),this._isSliding=!1,a(ei)};this._queueCallback(g,i,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(Va)}_getActive(){return O.findOne(Qa,this._element)}_getItems(){return O.find(Ts,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Tt()?t===Te?Ee:je:t===Te?je:Ee}_orderToDirection(t){return Tt()?t===Ee?Te:wn:t===Ee?wn:Te}static jQueryInterface(t){return this.each(function(){const n=tn.getOrCreateInstance(this,t);if(typeof t=="number"){n.to(t);return}if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}m.on(document,Fa,Za,function(e){const t=O.getElementFromSelector(this);if(!t||!t.classList.contains(ws))return;e.preventDefault();const n=tn.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");if(i){n.to(i),n._maybeEnableCycle();return}if(Gt.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});m.on(window,Wa,()=>{const e=O.find(tc);for(const t of e)tn.getOrCreateInstance(t)});xt(tn);const rc="collapse",sc="bs.collapse",en=`.${sc}`,oc=".data-api",ac=`show${en}`,cc=`shown${en}`,lc=`hide${en}`,dc=`hidden${en}`,uc=`click${en}${oc}`,ni="show",Ce="collapse",gn="collapsing",fc="collapsed",pc=`:scope .${Ce} .${Ce}`,hc="collapse-horizontal",gc="width",mc="height",_c=".collapse.show, .collapse.collapsing",yi='[data-bs-toggle="collapse"]',vc={parent:null,toggle:!0},bc={parent:"(null|element)",toggle:"boolean"};class qe extends Lt{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];const i=O.find(yi);for(const r of i){const s=O.getSelectorFromElement(r),o=O.find(s).filter(a=>a===this._element);s!==null&&o.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return vc}static get DefaultType(){return bc}static get NAME(){return rc}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(_c).filter(a=>a!==this._element).map(a=>qe.getOrCreateInstance(a,{toggle:!1}))),t.length&&t[0]._isTransitioning||m.trigger(this._element,ac).defaultPrevented)return;for(const a of t)a.hide();const i=this._getDimension();this._element.classList.remove(Ce),this._element.classList.add(gn),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(gn),this._element.classList.add(Ce,ni),this._element.style[i]="",m.trigger(this._element,cc)},o=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[i]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||m.trigger(this._element,lc).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Je(this._element),this._element.classList.add(gn),this._element.classList.remove(Ce,ni);for(const r of this._triggerArray){const s=O.getElementFromSelector(r);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(gn),this._element.classList.add(Ce),m.trigger(this._element,dc)};this._element.style[n]="",this._queueCallback(i,this._element,!0)}_isShown(t=this._element){return t.classList.contains(ni)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=Kt(t.parent),t}_getDimension(){return this._element.classList.contains(hc)?gc:mc}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(yi);for(const n of t){const i=O.getElementFromSelector(n);i&&this._addAriaAndCollapsedClass([n],this._isShown(i))}}_getFirstLevelChildren(t){const n=O.find(pc,this._config.parent);return O.find(t,this._config.parent).filter(i=>!n.includes(i))}_addAriaAndCollapsedClass(t,n){if(t.length)for(const i of t)i.classList.toggle(fc,!n),i.setAttribute("aria-expanded",n)}static jQueryInterface(t){const n={};return typeof t=="string"&&/show|hide/.test(t)&&(n.toggle=!1),this.each(function(){const i=qe.getOrCreateInstance(this,n);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}}m.on(document,uc,yi,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();for(const t of O.getMultipleElementsFromSelector(this))qe.getOrCreateInstance(t,{toggle:!1}).toggle()});xt(qe);const ar="dropdown",yc="bs.dropdown",ue=`.${yc}`,Hi=".data-api",Ec="Escape",cr="Tab",wc="ArrowUp",lr="ArrowDown",Ac=2,Tc=`hide${ue}`,Sc=`hidden${ue}`,Cc=`show${ue}`,xc=`shown${ue}`,Ss=`click${ue}${Hi}`,Cs=`keydown${ue}${Hi}`,Oc=`keyup${ue}${Hi}`,Se="show",$c="dropup",Lc="dropend",Dc="dropstart",Nc="dropup-center",kc="dropdown-center",re='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Mc=`${re}.${Se}`,An=".dropdown-menu",Pc=".navbar",Ic=".navbar-nav",Rc=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Hc=Tt()?"top-end":"top-start",Gc=Tt()?"top-start":"top-end",zc=Tt()?"bottom-end":"bottom-start",Bc=Tt()?"bottom-start":"bottom-end",jc=Tt()?"left-start":"right-start",Wc=Tt()?"right-start":"left-start",Fc="top",Vc="bottom",Kc={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Uc={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Pt extends Lt{constructor(t,n){super(t,n),this._popper=null,this._parent=this._element.parentNode,this._menu=O.next(this._element,An)[0]||O.prev(this._element,An)[0]||O.findOne(An,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Kc}static get DefaultType(){return Uc}static get NAME(){return ar}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ut(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!m.trigger(this._element,Cc,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Ic))for(const i of[].concat(...document.body.children))m.on(i,"mouseover",On);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Se),this._element.classList.add(Se),m.trigger(this._element,xc,t)}}hide(){if(Ut(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!m.trigger(this._element,Tc,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))m.off(i,"mouseover",On);this._popper&&this._popper.destroy(),this._menu.classList.remove(Se),this._element.classList.remove(Se),this._element.setAttribute("aria-expanded","false"),Gt.removeDataAttribute(this._menu,"popper"),m.trigger(this._element,Sc,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!Ht(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${ar.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof cs>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:Ht(this._config.reference)?t=Kt(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const n=this._getPopperConfig();this._popper=Pi(t,this._menu,n)}_isShown(){return this._menu.classList.contains(Se)}_getPlacement(){const t=this._parent;if(t.classList.contains(Lc))return jc;if(t.classList.contains(Dc))return Wc;if(t.classList.contains(Nc))return Fc;if(t.classList.contains(kc))return Vc;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains($c)?n?Gc:Hc:n?Bc:zc}_detectNavbar(){return this._element.closest(Pc)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Gt.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...gt(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:n}){const i=O.find(Rc,this._menu).filter(r=>Re(r));i.length&&Ii(i,n,t===lr,!i.includes(n)).focus()}static jQueryInterface(t){return this.each(function(){const n=Pt.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}static clearMenus(t){if(t.button===Ac||t.type==="keyup"&&t.key!==cr)return;const n=O.find(Mc);for(const i of n){const r=Pt.getInstance(i);if(!r||r._config.autoClose===!1)continue;const s=t.composedPath(),o=s.includes(r._menu);if(s.includes(r._element)||r._config.autoClose==="inside"&&!o||r._config.autoClose==="outside"&&o||r._menu.contains(t.target)&&(t.type==="keyup"&&t.key===cr||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const a={relatedTarget:r._element};t.type==="click"&&(a.clickEvent=t),r._completeHide(a)}}static dataApiKeydownHandler(t){const n=/input|textarea/i.test(t.target.tagName),i=t.key===Ec,r=[wc,lr].includes(t.key);if(!r&&!i||n&&!i)return;t.preventDefault();const s=this.matches(re)?this:O.prev(this,re)[0]||O.next(this,re)[0]||O.findOne(re,t.delegateTarget.parentNode),o=Pt.getOrCreateInstance(s);if(r){t.stopPropagation(),o.show(),o._selectMenuItem(t);return}o._isShown()&&(t.stopPropagation(),o.hide(),s.focus())}}m.on(document,Cs,re,Pt.dataApiKeydownHandler);m.on(document,Cs,An,Pt.dataApiKeydownHandler);m.on(document,Ss,Pt.clearMenus);m.on(document,Oc,Pt.clearMenus);m.on(document,Ss,re,function(e){e.preventDefault(),Pt.getOrCreateInstance(this).toggle()});xt(Pt);const xs="backdrop",Yc="fade",dr="show",ur=`mousedown.bs.${xs}`,qc={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Qc={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Os extends Ze{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return qc}static get DefaultType(){return Qc}static get NAME(){return xs}show(t){if(!this._config.isVisible){gt(t);return}this._append();const n=this._getElement();this._config.isAnimated&&Je(n),n.classList.add(dr),this._emulateAnimation(()=>{gt(t)})}hide(t){if(!this._config.isVisible){gt(t);return}this._getElement().classList.remove(dr),this._emulateAnimation(()=>{this.dispose(),gt(t)})}dispose(){this._isAppended&&(m.off(this._element,ur),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(Yc),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Kt(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),m.on(t,ur,()=>{gt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){ps(t,this._getElement(),this._config.isAnimated)}}const Xc="focustrap",Jc="bs.focustrap",Ln=`.${Jc}`,Zc=`focusin${Ln}`,tl=`keydown.tab${Ln}`,el="Tab",nl="forward",fr="backward",il={autofocus:!0,trapElement:null},rl={autofocus:"boolean",trapElement:"element"};class $s extends Ze{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return il}static get DefaultType(){return rl}static get NAME(){return Xc}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),m.off(document,Ln),m.on(document,Zc,t=>this._handleFocusin(t)),m.on(document,tl,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,m.off(document,Ln))}_handleFocusin(t){const{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;const i=O.focusableChildren(n);i.length===0?n.focus():this._lastTabNavDirection===fr?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){t.key===el&&(this._lastTabNavDirection=t.shiftKey?fr:nl)}}const pr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",hr=".sticky-top",mn="padding-right",gr="margin-right";class Ei{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,mn,n=>n+t),this._setElementAttributes(pr,mn,n=>n+t),this._setElementAttributes(hr,gr,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,mn),this._resetElementAttributes(pr,mn),this._resetElementAttributes(hr,gr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,i){const r=this.getWidth(),s=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+r)return;this._saveInitialAttribute(o,n);const a=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${i(Number.parseFloat(a))}px`)};this._applyManipulationCallback(t,s)}_saveInitialAttribute(t,n){const i=t.style.getPropertyValue(n);i&&Gt.setDataAttribute(t,n,i)}_resetElementAttributes(t,n){const i=r=>{const s=Gt.getDataAttribute(r,n);if(s===null){r.style.removeProperty(n);return}Gt.removeDataAttribute(r,n),r.style.setProperty(n,s)};this._applyManipulationCallback(t,i)}_applyManipulationCallback(t,n){if(Ht(t)){n(t);return}for(const i of O.find(t,this._element))n(i)}}const sl="modal",ol="bs.modal",St=`.${ol}`,al=".data-api",cl="Escape",ll=`hide${St}`,dl=`hidePrevented${St}`,Ls=`hidden${St}`,Ds=`show${St}`,ul=`shown${St}`,fl=`resize${St}`,pl=`click.dismiss${St}`,hl=`mousedown.dismiss${St}`,gl=`keydown.dismiss${St}`,ml=`click${St}${al}`,mr="modal-open",_l="fade",_r="show",ii="modal-static",vl=".modal.show",bl=".modal-dialog",yl=".modal-body",El='[data-bs-toggle="modal"]',wl={backdrop:!0,focus:!0,keyboard:!0},Al={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Me extends Lt{constructor(t,n){super(t,n),this._dialog=O.findOne(bl,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ei,this._addEventListeners()}static get Default(){return wl}static get DefaultType(){return Al}static get NAME(){return sl}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||m.trigger(this._element,Ds,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(mr),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||m.trigger(this._element,ll).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(_r),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){m.off(window,St),m.off(this._dialog,St),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Os({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new $s({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=O.findOne(yl,this._dialog);n&&(n.scrollTop=0),Je(this._element),this._element.classList.add(_r);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,m.trigger(this._element,ul,{relatedTarget:t})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){m.on(this._element,gl,t=>{if(t.key===cl){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),m.on(window,fl,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),m.on(this._element,hl,t=>{m.one(this._element,pl,n=>{if(!(this._element!==t.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(mr),this._resetAdjustments(),this._scrollBar.reset(),m.trigger(this._element,Ls)})}_isAnimated(){return this._element.classList.contains(_l)}_triggerBackdropTransition(){if(m.trigger(this._element,dl).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(ii)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(ii),this._queueCallback(()=>{this._element.classList.remove(ii),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),i=n>0;if(i&&!t){const r=Tt()?"paddingLeft":"paddingRight";this._element.style[r]=`${n}px`}if(!i&&t){const r=Tt()?"paddingRight":"paddingLeft";this._element.style[r]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){const i=Me.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t](n)}})}}m.on(document,ml,El,function(e){const t=O.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),m.one(t,Ds,r=>{r.defaultPrevented||m.one(t,Ls,()=>{Re(this)&&this.focus()})});const n=O.findOne(vl);n&&Me.getInstance(n).hide(),Me.getOrCreateInstance(t).toggle(this)});In(Me);xt(Me);const Tl="offcanvas",Sl="bs.offcanvas",Bt=`.${Sl}`,Ns=".data-api",Cl=`load${Bt}${Ns}`,xl="Escape",vr="show",br="showing",yr="hiding",Ol="offcanvas-backdrop",ks=".offcanvas.show",$l=`show${Bt}`,Ll=`shown${Bt}`,Dl=`hide${Bt}`,Er=`hidePrevented${Bt}`,Ms=`hidden${Bt}`,Nl=`resize${Bt}`,kl=`click${Bt}${Ns}`,Ml=`keydown.dismiss${Bt}`,Pl='[data-bs-toggle="offcanvas"]',Il={backdrop:!0,keyboard:!0,scroll:!1},Rl={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Yt extends Lt{constructor(t,n){super(t,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Il}static get DefaultType(){return Rl}static get NAME(){return Tl}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||m.trigger(this._element,$l,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ei().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(br);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(vr),this._element.classList.remove(br),m.trigger(this._element,Ll,{relatedTarget:t})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||m.trigger(this._element,Dl).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(yr),this._backdrop.hide();const n=()=>{this._element.classList.remove(vr,yr),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ei().reset(),m.trigger(this._element,Ms)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){m.trigger(this._element,Er);return}this.hide()},n=!!this._config.backdrop;return new Os({className:Ol,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?t:null})}_initializeFocusTrap(){return new $s({trapElement:this._element})}_addEventListeners(){m.on(this._element,Ml,t=>{if(t.key===xl){if(this._config.keyboard){this.hide();return}m.trigger(this._element,Er)}})}static jQueryInterface(t){return this.each(function(){const n=Yt.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}m.on(document,kl,Pl,function(e){const t=O.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),Ut(this))return;m.one(t,Ms,()=>{Re(this)&&this.focus()});const n=O.findOne(ks);n&&n!==t&&Yt.getInstance(n).hide(),Yt.getOrCreateInstance(t).toggle(this)});m.on(window,Cl,()=>{for(const e of O.find(ks))Yt.getOrCreateInstance(e).show()});m.on(window,Nl,()=>{for(const e of O.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&Yt.getOrCreateInstance(e).hide()});In(Yt);xt(Yt);const Hl=/^aria-[\w-]*$/i,Ps={"*":["class","dir","id","lang","role",Hl],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Gl=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),zl=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Bl=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?Gl.has(n)?!!zl.test(e.nodeValue):!0:t.filter(i=>i instanceof RegExp).some(i=>i.test(n))};function jl(e,t,n){if(!e.length)return e;if(n&&typeof n=="function")return n(e);const r=new window.DOMParser().parseFromString(e,"text/html"),s=[].concat(...r.body.querySelectorAll("*"));for(const o of s){const a=o.nodeName.toLowerCase();if(!Object.keys(t).includes(a)){o.remove();continue}const l=[].concat(...o.attributes),c=[].concat(t["*"]||[],t[a]||[]);for(const u of l)Bl(u,c)||o.removeAttribute(u.nodeName)}return r.body.innerHTML}const Wl="TemplateFactory",Fl={allowList:Ps,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Vl={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Kl={entry:"(string|element|function|null)",selector:"(string|element)"};class Ul extends Ze{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Fl}static get DefaultType(){return Vl}static get NAME(){return Wl}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[r,s]of Object.entries(this._config.content))this._setContent(t,s,r);const n=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&n.classList.add(...i.split(" ")),n}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[n,i]of Object.entries(t))super._typeCheckConfig({selector:n,entry:i},Kl)}_setContent(t,n,i){const r=O.findOne(i,t);if(r){if(n=this._resolvePossibleFunction(n),!n){r.remove();return}if(Ht(n)){this._putElementInTemplate(Kt(n),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(n);return}r.textContent=n}}_maybeSanitize(t){return this._config.sanitize?jl(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return gt(t,[this])}_putElementInTemplate(t,n){if(this._config.html){n.innerHTML="",n.append(t);return}n.textContent=t.textContent}}const Yl="tooltip",ql=new Set(["sanitize","allowList","sanitizeFn"]),ri="fade",Ql="modal",_n="show",Xl=".tooltip-inner",wr=`.${Ql}`,Ar="hide.bs.modal",We="hover",si="focus",Jl="click",Zl="manual",td="hide",ed="hidden",nd="show",id="shown",rd="inserted",sd="click",od="focusin",ad="focusout",cd="mouseenter",ld="mouseleave",dd={AUTO:"auto",TOP:"top",RIGHT:Tt()?"left":"right",BOTTOM:"bottom",LEFT:Tt()?"right":"left"},ud={allowList:Ps,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},fd={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class qt extends Lt{constructor(t,n){if(typeof cs>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ud}static get DefaultType(){return fd}static get NAME(){return Yl}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),m.off(this._element.closest(wr),Ar,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=m.trigger(this._element,this.constructor.eventName(nd)),i=(us(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(r),m.trigger(this._element,this.constructor.eventName(rd))),this._popper=this._createPopper(r),r.classList.add(_n),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))m.on(a,"mouseover",On);const o=()=>{m.trigger(this._element,this.constructor.eventName(id)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||m.trigger(this._element,this.constructor.eventName(td)).defaultPrevented)return;if(this._getTipElement().classList.remove(_n),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))m.off(r,"mouseover",On);this._activeTrigger[Jl]=!1,this._activeTrigger[si]=!1,this._activeTrigger[We]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),m.trigger(this._element,this.constructor.eventName(ed)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const n=this._getTemplateFactory(t).toHtml();if(!n)return null;n.classList.remove(ri,_n),n.classList.add(`bs-${this.constructor.NAME}-auto`);const i=Jo(this.constructor.NAME).toString();return n.setAttribute("id",i),this._isAnimated()&&n.classList.add(ri),n}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Ul({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Xl]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ri)}_isShown(){return this.tip&&this.tip.classList.contains(_n)}_createPopper(t){const n=gt(this._config.placement,[this,t,this._element]),i=dd[n.toUpperCase()];return Pi(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_resolvePossibleFunction(t){return gt(t,[this._element])}_getPopperConfig(t){const n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...n,...gt(this._config.popperConfig,[n])}}_setListeners(){const t=this._config.trigger.split(" ");for(const n of t)if(n==="click")m.on(this._element,this.constructor.eventName(sd),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(n!==Zl){const i=n===We?this.constructor.eventName(cd):this.constructor.eventName(od),r=n===We?this.constructor.eventName(ld):this.constructor.eventName(ad);m.on(this._element,i,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusin"?si:We]=!0,o._enter()}),m.on(this._element,r,this._config.selector,s=>{const o=this._initializeOnDelegatedTarget(s);o._activeTrigger[s.type==="focusout"?si:We]=o._element.contains(s.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},m.on(this._element.closest(wr),Ar,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,n){clearTimeout(this._timeout),this._timeout=setTimeout(t,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const n=Gt.getDataAttributes(this._element);for(const i of Object.keys(n))ql.has(i)&&delete n[i];return t={...n,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:Kt(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[n,i]of Object.entries(this._config))this.constructor.Default[n]!==i&&(t[n]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const n=qt.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}xt(qt);const pd="popover",hd=".popover-header",gd=".popover-body",md={...qt.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},_d={...qt.DefaultType,content:"(null|string|element|function)"};class Gn extends qt{static get Default(){return md}static get DefaultType(){return _d}static get NAME(){return pd}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[hd]:this._getTitle(),[gd]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const n=Gn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}xt(Gn);const vd="scrollspy",bd="bs.scrollspy",Gi=`.${bd}`,yd=".data-api",Ed=`activate${Gi}`,Tr=`click${Gi}`,wd=`load${Gi}${yd}`,Ad="dropdown-item",we="active",Td='[data-bs-spy="scroll"]',oi="[href]",Sd=".nav, .list-group",Sr=".nav-link",Cd=".nav-item",xd=".list-group-item",Od=`${Sr}, ${Cd} > ${Sr}, ${xd}`,$d=".dropdown",Ld=".dropdown-toggle",Dd={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Nd={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class zn extends Lt{constructor(t,n){super(t,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Dd}static get DefaultType(){return Nd}static get NAME(){return vd}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Kt(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(n=>Number.parseFloat(n))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(m.off(this._config.target,Tr),m.on(this._config.target,Tr,oi,t=>{const n=this._observableSections.get(t.target.hash);if(n){t.preventDefault();const i=this._rootElement||window,r=n.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:r,behavior:"smooth"});return}i.scrollTop=r}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),t)}_observerCallback(t){const n=o=>this._targetLinks.get(`#${o.target.id}`),i=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},r=(this._rootElement||document.documentElement).scrollTop,s=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&a){if(i(o),!r)return;continue}!s&&!a&&i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=O.find(oi,this._config.target);for(const n of t){if(!n.hash||Ut(n))continue;const i=O.findOne(decodeURI(n.hash),this._element);Re(i)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,i))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(we),this._activateParents(t),m.trigger(this._element,Ed,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(Ad)){O.findOne(Ld,t.closest($d)).classList.add(we);return}for(const n of O.parents(t,Sd))for(const i of O.prev(n,Od))i.classList.add(we)}_clearActiveClass(t){t.classList.remove(we);const n=O.find(`${oi}.${we}`,t);for(const i of n)i.classList.remove(we)}static jQueryInterface(t){return this.each(function(){const n=zn.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}m.on(window,wd,()=>{for(const e of O.find(Td))zn.getOrCreateInstance(e)});xt(zn);const kd="tab",Md="bs.tab",fe=`.${Md}`,Pd=`hide${fe}`,Id=`hidden${fe}`,Rd=`show${fe}`,Hd=`shown${fe}`,Gd=`click${fe}`,zd=`keydown${fe}`,Bd=`load${fe}`,jd="ArrowLeft",Cr="ArrowRight",Wd="ArrowUp",xr="ArrowDown",ai="Home",Or="End",se="active",$r="fade",ci="show",Fd="dropdown",Is=".dropdown-toggle",Vd=".dropdown-menu",li=`:not(${Is})`,Kd='.list-group, .nav, [role="tablist"]',Ud=".nav-item, .list-group-item",Yd=`.nav-link${li}, .list-group-item${li}, [role="tab"]${li}`,Rs='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',di=`${Yd}, ${Rs}`,qd=`.${se}[data-bs-toggle="tab"], .${se}[data-bs-toggle="pill"], .${se}[data-bs-toggle="list"]`;class Pe extends Lt{constructor(t){super(t),this._parent=this._element.closest(Kd),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),m.on(this._element,zd,n=>this._keydown(n)))}static get NAME(){return kd}show(){const t=this._element;if(this._elemIsActive(t))return;const n=this._getActiveElem(),i=n?m.trigger(n,Pd,{relatedTarget:t}):null;m.trigger(t,Rd,{relatedTarget:n}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(n,t),this._activate(t,n))}_activate(t,n){if(!t)return;t.classList.add(se),this._activate(O.getElementFromSelector(t));const i=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(ci);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),m.trigger(t,Hd,{relatedTarget:n})};this._queueCallback(i,t,t.classList.contains($r))}_deactivate(t,n){if(!t)return;t.classList.remove(se),t.blur(),this._deactivate(O.getElementFromSelector(t));const i=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(ci);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),m.trigger(t,Id,{relatedTarget:n})};this._queueCallback(i,t,t.classList.contains($r))}_keydown(t){if(![jd,Cr,Wd,xr,ai,Or].includes(t.key))return;t.stopPropagation(),t.preventDefault();const n=this._getChildren().filter(r=>!Ut(r));let i;if([ai,Or].includes(t.key))i=n[t.key===ai?0:n.length-1];else{const r=[Cr,xr].includes(t.key);i=Ii(n,t.target,r,!0)}i&&(i.focus({preventScroll:!0}),Pe.getOrCreateInstance(i).show())}_getChildren(){return O.find(di,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,n){this._setAttributeIfNotExists(t,"role","tablist");for(const i of n)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const n=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",n),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),n||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const n=O.getElementFromSelector(t);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,n){const i=this._getOuterElement(t);if(!i.classList.contains(Fd))return;const r=(s,o)=>{const a=O.findOne(s,i);a&&a.classList.toggle(o,n)};r(Is,se),r(Vd,ci),i.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(t,n,i){t.hasAttribute(n)||t.setAttribute(n,i)}_elemIsActive(t){return t.classList.contains(se)}_getInnerElement(t){return t.matches(di)?t:O.findOne(di,t)}_getOuterElement(t){return t.closest(Ud)||t}static jQueryInterface(t){return this.each(function(){const n=Pe.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}m.on(document,Gd,Rs,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!Ut(this)&&Pe.getOrCreateInstance(this).show()});m.on(window,Bd,()=>{for(const e of O.find(qd))Pe.getOrCreateInstance(e)});xt(Pe);const Qd="toast",Xd="bs.toast",Jt=`.${Xd}`,Jd=`mouseover${Jt}`,Zd=`mouseout${Jt}`,tu=`focusin${Jt}`,eu=`focusout${Jt}`,nu=`hide${Jt}`,iu=`hidden${Jt}`,ru=`show${Jt}`,su=`shown${Jt}`,ou="fade",Lr="hide",vn="show",bn="showing",au={animation:"boolean",autohide:"boolean",delay:"number"},cu={animation:!0,autohide:!0,delay:5e3};class Bn extends Lt{constructor(t,n){super(t,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return cu}static get DefaultType(){return au}static get NAME(){return Qd}show(){if(m.trigger(this._element,ru).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(ou);const n=()=>{this._element.classList.remove(bn),m.trigger(this._element,su),this._maybeScheduleHide()};this._element.classList.remove(Lr),Je(this._element),this._element.classList.add(vn,bn),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||m.trigger(this._element,nu).defaultPrevented)return;const n=()=>{this._element.classList.add(Lr),this._element.classList.remove(bn,vn),m.trigger(this._element,iu)};this._element.classList.add(bn),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(vn),super.dispose()}isShown(){return this._element.classList.contains(vn)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,n){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){m.on(this._element,Jd,t=>this._onInteraction(t,!0)),m.on(this._element,Zd,t=>this._onInteraction(t,!1)),m.on(this._element,tu,t=>this._onInteraction(t,!0)),m.on(this._element,eu,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const n=Bn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}In(Bn);xt(Bn);function lu(e,t=0){if(e in q)return new wt(e,t);if(e in Ke)return new $t(e,t);throw new Error("Invalid item type")}function yn(e){return e instanceof wt?`
      <div class="tooltip-base tooltip-header">
        <h5 class="text-${_[e.rarity]}">${e.level?`lv${e.level}`:""} ${e.name}</h5>
        <p class="fst-italic">"${e.description}"</p>
      </div>
    `:e instanceof $t?Zs(e):`
    <div class="tooltip-base">
      <h5>${e.name}</h5>
      <p class="fst-italic">"${e.description}"</p>
    </div>
  `}function ui(e){switch(e.category){case ae.Equipment:return"🗡️";case ae.Consumable:return"🗝️";default:return""}}function Tn(e){var s,o,a,l;const t=Ct();function n(){document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(u=>{const v=qt.getInstance(u);v&&v.dispose()})}n(),t.innerHTML=`
    <div class="container mt-4">
      <h2 class="text-center mb-4">状态</h2>

      <div class="row">
        <!-- 属性栏区域 -->
        <div class="col-md-6 mb-4">
          <div class="card shadow-sm">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title mb-0">${e.name} 的属性</h4>
            </div>
            <div class="card-body">
              <div id="attribute-bar" class="list-group list-group-flush">
                ${(()=>{const c=e.getAbility(),u=e.getExtraAbility();return Object.entries(c).map(([v,g])=>{const E=u[v]||0;let k="";return E>0?k=`<span class="badge bg-success ms-2">+${E}</span>`:E<0&&(k=`<span class="badge bg-danger ms-2">${E}</span>`),`
                      <div class="list-group-item d-flex justify-content-between align-items-center">
                        <span class="fw-bold text-capitalize">${v}</span>
                        <div>
                          <span class="text-muted">${g}</span>
                          ${k}
                        </div>
                      </div>
                    `}).join("")})()}
              </div>
            </div>
          </div>
        </div>

        <!-- 行动列表区域 -->
        <div class="col-md-6 mb-4">
          <div class="card shadow-sm">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title mb-0">${e.name} 的行动列表</h4>
            </div>
            <div class="card-body">
              <!-- Tab 导航 -->
              <ul class="nav nav-underline mb-3" id="actionTab" role="tablist">
                <li class="nav-item" role="presentation">
                  <button class="nav-link active" id="extra-tab" data-bs-toggle="tab" data-bs-target="#extra-actions" type="button" role="tab" aria-controls="extra-actions" aria-selected="true">
                    装备额外行动
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="base-tab" data-bs-toggle="tab" data-bs-target="#base-actions" type="button" role="tab" aria-controls="base-actions" aria-selected="false">
                    基础行动
                  </button>
                </li>
              </ul>
              <!-- Tab 内容 -->
              <div class="tab-content" id="actionTabContent">
                <!-- 装备额外行动列表（默认激活） -->
                <div class="tab-pane fade show active" id="extra-actions" role="tabpanel" aria-labelledby="extra-tab">
                  <ul class="list-group">
                    ${e.getExtraActions().sort((c,u)=>nt[u.actionType].rarity-nt[c.actionType].rarity).map(c=>`
                        <li class="list-group-item" tabindex="0"
                            data-bs-toggle="popover"
                            data-bs-trigger="focus"
                            data-bs-html="true"
                            data-bs-title="${nt[c.actionType].name}"
                            data-bs-content='
                              <div>
                                ${Vi(e,nt[c.actionType])}
                              </div>
                            '>
                          <div class="d-flex justify-content-between align-items-center">
                            <span>${nt[c.actionType].name}</span>
                            <span class="badge bg-${_[nt[c.actionType].rarity]}">
                              ${c.weight.toFixed(2)}
                            </span>
                          </div>
                        </li>
                      `).join("")}
                  </ul>
                </div>
                <!-- 基础行动列表 -->
                <div class="tab-pane fade" id="base-actions" role="tabpanel" aria-labelledby="base-tab">
                  <ul class="list-group">
                    ${e.actions.sort((c,u)=>nt[u.actionType].rarity-nt[c.actionType].rarity).map(c=>`
                        <li class="list-group-item" tabindex="0"
                            data-bs-toggle="popover"
                            data-bs-trigger="focus"
                            data-bs-html="true"
                            data-bs-title="${nt[c.actionType].name}"
                            data-bs-content='
                              <div>
                                ${Vi(e,nt[c.actionType])}
                              </div>
                            '>
                          <div class="d-flex justify-content-between align-items-center">
                            <span>${nt[c.actionType].name}</span>
                            <span class="badge bg-${_[nt[c.actionType].rarity]}">
                              ${c.weight.toFixed(2)}
                            </span>
                          </div>
                        </li>
                      `).join("")}
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 装备栏区域 -->
        <div class="col-md-6 mb-4">
          <div class="card">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title">${e.name} 的装备</h4>
            </div>
            <div class="card-body">
              <div id="equipment-bar" class="list-group">
                ${Object.entries(e.equipments).map(([c,u])=>`
                  <div id="equipment-slot-${c}" class="list-group-item">
                    <div class="d-flex align-items-center gap-2">
                      <span class="fw-bold">${c}</span>
                      ${u?`<span class="badge bg-${_[u.rarity]}" data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="top" title="${yn(u).replace(/"/g,"&quot;")}">${u.name}</span>`:'<span class="badge bg-secondary">空</span>'}
                    </div>
                  </div>
                `).join("")}
              </div>
            </div>
          </div>
        </div>

      <!-- 背包区域 -->
      <div class="col-md-6 mb-4">
        <div class="card shadow-sm">
          <div class="card-header bg-secondary text-white">
            <h4 class="card-title mb-0">${e.name} 的背包</h4>
          </div>
          <div class="card-body">
            <!-- Tab 导航 -->
            <ul class="nav nav-underline mb-3" id="packTab" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="all-tab" data-bs-toggle="tab" data-bs-target="#all" type="button" role="tab" aria-controls="all" aria-selected="true">
                  全部
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="equip-tab" data-bs-toggle="tab" data-bs-target="#equip" type="button" role="tab" aria-controls="equip" aria-selected="false">
                  装备
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="consumable-tab" data-bs-toggle="tab" data-bs-target="#consumable" type="button" role="tab" aria-controls="consumable" aria-selected="false">
                  消耗品
                </button>
              </li>
            </ul>
            <!-- Tab 内容 -->
            <div class="tab-content" id="packTabContent">
              <!-- 全部标签 -->
              <div class="tab-pane fade show active" id="all" role="tabpanel" aria-labelledby="all-tab">
                <div id="pack-all" class="d-flex flex-wrap gap-2">
                  ${e.pack.length>0?e.pack.sort((c,u)=>u.rarity-c.rarity).map(c=>{const u=`btn-${_[c.rarity]}`,v=c instanceof wt||c instanceof $t?yn(c):c.description;return`<button id="use-btn${c.uuid}" class="btn ${u}" data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="top" title="${v.replace(/"/g,"&quot;")}">
                              ${ui(c)}${c.name}
                            </button>`}).join(""):'<p class="text-muted">背包为空</p>'}
                </div>
              </div>
              <!-- 装备标签 -->
              <div class="tab-pane fade" id="equip" role="tabpanel" aria-labelledby="equip-tab">
                <div id="pack-equip" class="d-flex flex-wrap gap-2">
                  ${e.pack.filter(c=>c instanceof $t).length>0?e.pack.filter(c=>c instanceof $t).sort((c,u)=>u.rarity-c.rarity).map(c=>{const u=`btn-${_[c.rarity]}`,v=yn(c);return`<button id="use-btn${c.uuid}" class="btn ${u}" data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="top" title="${v.replace(/"/g,"&quot;")}">
                              ${ui(c)}${c.name}
                            </button>`}).join(""):'<p class="text-muted">没有装备</p>'}
                </div>
              </div>
              <!-- 道具标签 -->
              <div class="tab-pane fade" id="consumable" role="tabpanel" aria-labelledby="consumable-tab">
                <div id="pack-consumable" class="d-flex flex-wrap gap-2">
                  ${e.pack.filter(c=>c instanceof wt).length>0?e.pack.filter(c=>c instanceof wt).sort((c,u)=>u.rarity-c.rarity).map(c=>{const u=`btn-${_[c.rarity]}`,v=yn(c);return`<button id="use-btn${c.uuid}" class="btn ${u}" data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="top" title="${v.replace(/"/g,"&quot;")}">
                              ${ui(c)}${c.name}
                            </button>`}).join(""):'<p class="text-muted">没有道具</p>'}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 宠物区域 -->
      <div class="row mb-4">
        <div class="col">
          <div class="card">
            <div class="card-header bg-secondary text-white">
              <h4 class="card-title">${e.name} 的宠物</h4>
            </div>
            <div class="card-body">
              <div id="pet" class="list-group">
                ${e.capturedMonster.length>0?e.capturedMonster.map(c=>`
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                          <span class="fw-bold">${c.name}</span>
                          <span class="text-muted">Lv. ${c.level}</span>
                        </div>
                      `).join(""):'<p class="text-muted">暂无宠物</p>'}
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 返回主菜单按钮 -->
      <div class="text-center">
        <button id="back-btn" class="btn btn-primary">返回主菜单</button>
      </div>
    </div>
  `,(s=document.getElementById("back-btn"))==null||s.addEventListener("click",()=>{nn(e)});for(const c of e.pack)c instanceof wt&&((o=document.getElementById(`use-btn${c.uuid}`))==null||o.addEventListener("click",()=>{c.useItem(e),e.addLog(`${e.name} 使用了 ${c.name}`),Vt(e),Tn(e)})),c instanceof $t&&((a=document.getElementById(`use-btn${c.uuid}`))==null||a.addEventListener("click",()=>{e.wearEquipment(c),Vt(e),Tn(e)}));for(const[c,u]of Object.entries(e.equipments))u&&((l=document.getElementById(`equipment-slot-${c}`))==null||l.addEventListener("click",()=>{e.removeEquipment(u.position),Vt(e),Tn(e)}));Array.from(document.querySelectorAll('[data-bs-toggle="tooltip"]')).forEach(c=>{new qt(c,{placement:"top",html:!0})}),[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map(function(c){return new Gn(c)})}class Hs extends Ir{constructor(n,i,r,s){n=n||"怪物",i=i||ht.Slime,r=r||1,s=s||1;super(n,i,r,s);W(this,"description");W(this,"dropItems");W(this,"giveExp",0);this.dropItems=Ue[i].dropItems,this.description=Ue[i].description,this.giveExp=Math.floor(this.maxHealth)*(1+this.level/10)}randomDropItem(){const n=this.dropItems.reduce((r,s)=>r+s.weight,0);let i=Math.random()*n;for(const r of this.dropItems){if(i<r.weight&&r.type)return lu(r.type,this.level);i-=r.weight}return null}}function du(e,t,n,i){return n.category===p.Capture&&(n.category=p.Attack),n.category===p.Attack&&i.category===p.Attack?fu(e,t,n,i):n.category===p.Attack&&i.category===p.None||n.category===p.None&&i.category===p.Attack?pu(e,t,n,i):n.category===p.Attack&&i.category===p.Defend||n.category===p.Defend&&i.category===p.Attack?hu(e,t,n,i):n.category===p.Dodge&&i.category===p.Attack||n.category===p.Attack&&i.category===p.Dodge?gu(e,t,n,i):(e.addTempLog("无事发生("+e.name+Oe(n)+" "+t.name+Oe(i)+")"),at.Draw)}function uu(e,t,n,i){e.addTempLog(e.name+"使用了"+n.name+"，"+t.name+"使用了"+i.name);let r=0;for(;n.hits[r]||i.hits[r];){let s=n.hits[r]||Cn,o=i.hits[r]||Cn;e.statuses.sort((l,c)=>l.priority-c.priority).forEach(l=>{if(l.category===ot.OnHitStart){const c=xe[l.type].effect;s=c(e,s,l.statusLevel)}}),t.statuses.sort((l,c)=>l.priority-c.priority).forEach(l=>{if(l.category===ot.OnHitStart){const c=xe[l.type].effect;o=c(t,o,l.statusLevel)}}),e.updateStatusesOnHitStart(),t.updateStatusesOnHitStart();const a=du(e,t,s,o);s.continuous&&a!==at.PlayerWin&&(n.hits.splice(r+1),e.addTempLog(e.name+"的连续hit中断")),o.continuous&&a!==at.EnemyWin&&(i.hits.splice(r+1),e.addTempLog(t.name+"的连续hit中断")),r++}e.clearStatusByCategory(ot.OnHitStart),t.clearStatusByCategory(ot.OnHitStart)}function fu(e,t,n,i){const r=ce(n.coeff,e.getAbility(),e.getActionCoeff(n.category)),s=ce(i.coeff,t.getAbility(),t.getActionCoeff(i.category));if(e.addTempLog(jn(e,t,n,i,r,s)),r>=s){const o=Qe(r,t.getAbility().armor,e.getAbility().piercing);return t.loseHp(o),e.addTempLog(n.messageGenerator(e,t)+'造成了<span style="color: red;">'+Math.round(o)+"</span>点伤害"),n.extraEffect&&n.extraEffect(e,t),at.PlayerWin}else{const o=Qe(s,e.getAbility().armor,t.getAbility().piercing);return e.loseHp(o),e.addTempLog(i.messageGenerator(t,e)+'造成了<span style="color: red;">'+Math.round(o)+"</span>点伤害"),i.extraEffect&&i.extraEffect(t,e),at.EnemyWin}}function pu(e,t,n,i){let r,s,o;i.category===p.None?(r=e,s=t,o=n):(r=t,s=e,o=i);const a=ce(o.coeff,r.getAbility(),r.getActionCoeff(o.category));e.addTempLog(jn(e,t,n,i,r.isPlayer?a:0,r.isPlayer?a:0));const l=Qe(a,s.getAbility().armor,r.getAbility().piercing);return s.loseHp(l),e.addTempLog(o.messageGenerator(r,s)+'造成了<span style="color: red;">'+Math.round(l)+"</span>点伤害"),o.extraEffect&&o.extraEffect(r,s),r instanceof Ye?at.PlayerWin:at.EnemyWin}function hu(e,t,n,i){const r=ce(n.coeff,e.getAbility(),e.getActionCoeff(n.category)),s=ce(i.coeff,t.getAbility(),t.getActionCoeff(i.category));e.addTempLog(jn(e,t,n,i,r,s));const o=n.category===p.Attack,a=o?e:t,l=o?t:e,c=o?n:i,u=o?i:n,v=o?r:s,g=o?s:r,E=v-g>0?v-g:0,k=Qe(E,l.getAbility().armor,a.getAbility().piercing);return l.loseHp(k),E>0?(e.addTempLog(c.messageGenerator(a,l)+`击穿了${l.name}的防御，造成了<span style="color: red;">`+Math.round(k)+`(-${g})</span>点伤害`),c.extraEffect&&c.extraEffect(a,l),o?at.PlayerWin:at.EnemyWin):(e.addTempLog(u.messageGenerator(l,a)+","+c.messageGenerator(a,l)+"但没有造成伤害"),o?at.EnemyWin:at.PlayerWin)}function gu(e,t,n,i){const r=ce(n.coeff,e.getAbility(),e.getActionCoeff(n.category)),s=ce(i.coeff,t.getAbility(),t.getActionCoeff(i.category));e.addTempLog(jn(e,t,n,i,r,s));const o=n.category===p.Attack,a=o?e:t,l=o?t:e,c=o?n:i,u=o?i:n,v=o?r:s;if(v>(o?s:r)){const E=Qe(v,l.getAbility().armor,a.getAbility().piercing);return l.loseHp(E),e.addTempLog(c.messageGenerator(a,l)+"对"+l.name+'造成了<span style="color: red;">'+Math.round(E)+"</span>点伤害"),o?at.PlayerWin:at.EnemyWin}else return a.addStatus(ie.Unbalance,1),e.addTempLog(u.messageGenerator(a,l)+","+a.name+"失衡了"),o?at.EnemyWin:at.PlayerWin}function Dn(e,t,n,i,r){var u,v;const s=Ct();let o=t.getRandomAction();const a=mu(e,t,o);let l=e.getRandomAction(),c=e.getRandomAction();if(e.statuses.sort((g,E)=>g.priority-E.priority).forEach(g=>{if(g.category===ot.OnTurnStart){const E=xe[g.type].effect,k=E(e,l,c);l=k.action1,c=k.action2}}),t.statuses.sort((g,E)=>g.priority-E.priority).forEach(g=>{if(g.category===ot.OnTurnStart){const E=xe[g.type].effect;o=E(t,o,o).action1}}),n&&i&&(e.addTempLog("--------------------------回合-----------------------------"),uu(e,t,n,i)),e.health<=0){e.addLog(e.name+"撑不住了"),e.clearStatus(),Dr(e,t,!1,r);return}if(t.health<1){e.addLog(e.name+"击败了"+t.name),e.clearStatus(),Dr(e,t,!0,r);return}e.updateStatusesOnTurnEnd(),t.updateStatusesOnTurnEnd(),Vt(e),s.innerHTML=`
  <div class="container mt-4">
    <h2 class="text-center mb-3">战斗</h2>

    <!-- 敌人信息 -->
    <div class="card mb-3">
      <div class="card-header bg-danger text-white">
        <h4 class="mb-0">${t.name}</h4>
      </div>
      <div class="card-body">
        <p class="card-text fst-italic">"${t.description}"</p>
        <p class="card-text">${a}</p>
        <p class="card-text">HP: <strong>${Math.ceil(t.health)}</strong></p>
      </div>
    </div>

    <!-- 分割线 -->
    <hr>

    <!-- 玩家信息 -->
    <div class="card mb-4">
      <div class="card-header bg-success text-white">
        <h4 class="mb-0">${e.name}</h4>
      </div>
      <div class="card-body">
        <p class="card-text">HP: <strong>${Math.ceil(e.health)}</strong></p>
      </div>
    </div>

    <!-- 动作选择 -->
    <div class="row mb-4">
      <div class="col-6">
        <div class="card bg-primary text-white" id="action1-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title">${l.name}</h5>
            <p class="card-text fst-italic">"${l.description}"</p>
            <p class="card-text">${fi(e,l)}</p>
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="card bg-info text-white" id="action2-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title">${c.name}</h5>
            <p class="card-text fst-italic">"${c.description}"</p>
            <p class="card-text">${fi(e,c)}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- 战斗记录 -->
    <div class="card">
      <div class="card-header">
        记录
      </div>
      <div class="card-body" id="log" style="max-height: 200px; overflow-y: auto;">
        ${e.getTempLogs()}
      </div>
    </div>
  </div>
`,(u=document.getElementById("action1-btn"))==null||u.addEventListener("click",()=>{Dn(e,t,l,o,r)}),(v=document.getElementById("action2-btn"))==null||v.addEventListener("click",()=>{Dn(e,t,c,o,r)})}function Dr(e,t,n,i){var a;const r=Ct();let s=!1,o=null;n?(o=t.randomDropItem(),e.exp+=Math.floor(t.giveExp),s=e.checkLevelUp(),e.exp=Math.floor(e.exp),e.addLog(t.name+"掉落了<span style='color: gold;'>"+((o==null?void 0:o.name)??"无")+"</span>"),o&&e.pack.push(o)):(e.health=1,e.addLog(e.name+"拼死从"+t.name+"的手中逃了出来，拖着残破的身躯，回到了城镇")),r.innerHTML=`
  <div class="container mt-4">
    <div class="card text-center shadow">
      <div class="card-header bg-dark text-white">
        <h2 class="mb-0">战斗结束</h2>
      </div>
      <div class="card-body">
        <h4 class="card-title">
          ${e.name}
          ${n?'<span class="text-success">胜利</span>':'<span class="text-danger">失败</span>'}
          <p>lv: ${e.level}${s?"🔺":""} exp: ${e.exp}/${e.getNextLevelExp()}</p>
          ${n?`<p>获得经验: <span class="text-info">${Math.floor(t.giveExp)}</span>  ${o?`获得物品: <span class="text-${_[o.rarity]}">${o.name}</span>`:""}</p>`:""}
        </h4>
        <hr>
        <h5>记录</h5>
        <div id="log" class="border rounded p-3" style="max-height: 250px; overflow-y: auto;">
          ${e.getTempLogs()}
        </div>
      </div>
      <div class="card-footer">
        <button class="btn btn-primary" id="continue-btn">继续</button>
      </div>
    </div>
  </div>
`,e.clearTempLogs(),Vt(e),(a=document.getElementById("continue-btn"))==null||a.addEventListener("click",()=>{i(e,t,n)})}function Qe(e,t,n){const i=t-n>0?t-n:0;return e*(50/(i+50))}function jn(e,t,n,i,r,s){let o="",a="";return n.category===p.None?o=n.messageGenerator(e,t):o=e.name+Oe(n)+'<span style="color: blue;">'+Math.round(r)+"</span> ",i.category===p.None?a=i.messageGenerator(t,e):a=t.name+Oe(i)+'<span style="color: orange;">'+Math.round(s)+"</span> ","掷骰："+o+a}function mu(e,t,n){function i(r,s){return r.name+"看起来似乎会使用"+s.name+"<br>"+fi(r,s)}return Math.random()*e.getAbility().int>Math.random()*t.getAbility().int?i(t,n):"你分辨不出"+t.name+"即将使用的动作"}function _u(e){let t=Object.values(ht)[Math.floor(Math.random()*Object.values(ht).length)];(t===ht.Player||t===ht.Player114514)&&(t=ht.Wolf);const n=Math.floor(Math.random()*10)+1,i=Math.random()*2,r=new Hs(Ue[t].typeName,t,n,i);Dn(e,r,null,null,(s,o,a)=>{nn(s)})}function vu(e){var n,i;const t=Ct();t.innerHTML=`
    <div class="mt-auto">
      <div class="row g-3 justify-content-center">
        <div class="col-12 col-md-4">
          <button id="battle-btn" class="btn btn-primary w-100 py-3">
            森林
          </button>
        </div>
        <div class="col-12 col-md-4">
          <button id="return-btn" class="btn btn-success w-100 py-3">返回主菜单</button>
        </div>
      </div>
    </div>
    <!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
		<!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
  `,(n=document.getElementById("battle-btn"))==null||n.addEventListener("click",()=>{e.isAtHome=!1,_u(e)}),(i=document.getElementById("return-btn"))==null||i.addEventListener("click",()=>{nn(e)})}function nn(e){var n,i,r;const t=Ct();e.isAtHome=!0,Vt(e),console.log(e),t.innerHTML=`
    <!-- 顶部区域：显示血条和玩家信息 -->
    <div class="card mb-4 shadow-sm">
      <div class="card-body">
        <!-- 血条区域 -->
        <div id="health-display" class="mb-3">
          ${e.getHealthDisplay()}
        </div>
        <!-- 玩家信息区域 -->
        <div class="text-center">
          <h2 class="card-title mb-1">
            <span class="badge bg-${e.type===ht.Player114514?"danger":"primary"} ms-2" style="font-size: 0.75rem; padding: 0.35em 0.5em;">
              ${e.type===ht.Player114514?"野兽":"人类"}
            </span>
            ${e.name}
            <small class="text-muted"> lv ${e.level}</small>
          </h2>
          <!-- 经验条 -->
          <div id="exp-display" class="mt-2" style="max-width: 200px; margin: 0 auto;">
            ${e.getExpDisplay()}
          </div>
        </div>

        <!-- 玩家形象区域 -->
        <div class="text-center mt-3">
          <img src=${ao} alt="玩家形象" class="img-fluid" style="max-height: 200px;">
        </div>
      </div>
    </div>

    <!-- 主菜单区域：用 mt-auto 自动向下推 -->
    <div class="mt-auto">
      <div class="row g-3 justify-content-center">
        <div class="col-12 col-md-4">
          <button id="battle-btn" class="btn btn-primary w-100 py-3">
            ${e.type===ht.Player114514?"救世啊！":"出击"}
          </button>
        </div>
        <div class="col-12 col-md-4">
          <button id="status-btn" class="btn btn-success w-100 py-3">状态</button>
        </div>
        <div class="col-12 col-md-4">
          <button id="restart-btn" class="btn btn-danger w-100 py-3">秽土转生</button>
        </div>
      </div>

      <!-- 查看记录按钮 -->
      <div class="text-center mt-4">
        <button class="btn btn-info" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
          查看记录
        </button>
      </div>
    </div>

    <!-- Offcanvas 记录面板 -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasRightLabel">记录</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="关闭"></button>
      </div>
      <div class="offcanvas-body">
        <div style="max-height: 60vh; overflow-y: auto;">
          <p>${e.getLastNLog(100)}</p>
        </div>
      </div>
    </div>

    <!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
		<!-- 底部区域：占位 -->
    <div class="mt-auto">
    </div>
  `,(n=document.getElementById("battle-btn"))==null||n.addEventListener("click",()=>{vu(e)}),(i=document.getElementById("status-btn"))==null||i.addEventListener("click",()=>{Tn(e)}),(r=document.getElementById("restart-btn"))==null||r.addEventListener("click",()=>{window.confirm("你确定要 remake 吗？")&&(localStorage.clear(),window.location.reload())})}const bu="/otherworld114514/assets/1919-2_wCU3Nu.gif";function yu(){var t,n;const e=Ct();e.innerHTML=`
    <h1>你是谁？</h1>
    <div class="row mb-4">
      <div class="col-6">
        <div class="card bg-primary text-white" id="action1-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title" style="font-weight: bold;">普通人</h5>
            <p class="card-text fst-italic">"我不抽烟，酒仅浅尝辄止。晚上11点睡，保证睡足8小时。睡前喝一杯温牛奶，然后做20分钟的舒缓运动再睡觉，一觉熟睡到天亮，绝不把疲劳和压力留到第二天。医生都说我很正常。"</p>
            <p class="card-text" style="font-weight: bold;">(适合不了解野兽先辈的玩家)</p>
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="card bg-info text-white" id="action2-btn" style="cursor: pointer;">
          <div class="card-body text-center">
            <h5 class="card-title" style="font-weight: bold;">野兽仙贝</h5>
            <p class="card-text fst-italic">"伟大的古希腊哲学家，野兽学派的大先辈田所曾这样警醒后人：逸一时，误一世。(如果一时放纵自己，贪图安逸，就可能误了一生的前程) 现在，你将扮演这位伟大的贤人。好时代，来临罢！"</p>
            <p class="card-text" style="font-weight: bold;">(适合拥有野兽之心的玩家)</p>
            </div>
        </div>
      </div>
    </div>
  `,(t=document.getElementById("action1-btn"))==null||t.addEventListener("click",()=>{const i=new Ye("吴田所",ht.Player);i.pack.push(new wt(q.GiftboxAndLetter)),hi(i),wi(i)}),(n=document.getElementById("action2-btn"))==null||n.addEventListener("click",()=>{const i=new Ye("田所",ht.Player114514);i.pack.push(new wt(q.GiftboxAndLetter)),hi(i);const r=new Hs("远野",ht.Toono,1,1);i.isAtHome=!1,Dn(i,r,null,null,(s,o,a)=>{a?Eu(s):wu(s)})})}function Eu(e){var n;const t=Ct();t.innerHTML=`
    <h1>野兽宅</h1>
    <p>距离击败远野已不知过去了多久，但一切都还历历在目。<p>
    <p>你感到痛心疾首，为什么事情会变成这样，为什么亲密无间的两人会反目成仇。<p>
    <p>你不再沉沦，高呼道：伊已逝，吾亦逝。忆旧已久罢忆灵！(你逝去了，而我的心也逝去了，空留肉体如行尸走肉般存活。我已经缅怀故人多时，罢了罢了，是时候随你而去了！)</p>
		<p>你闭上了眼睛。</p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{zi(e)})}function wu(e){var n;const t=Ct();t.innerHTML=`
    <h1>野兽宅</h1>
    <p>你被远野击败了。<p>
    <p>你感到痛心疾首，为什么事情会变成这样，为什么亲密无间的两人会反目成仇。<p>
    <p>你愤怒地将手指向远野，不甘心地嘶吼：你是一个一个一个一个，呐，哼哼，啊啊啊啊啊啊啊！！！<p>
    <img src="${bu}" alt="1919">
		<p>但是意识逐渐模糊，你最终还是倒下了。<p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{e.health=e.maxHealth*.8,zi(e)})}function wi(e){var r,s;const t=Ct(),n=Math.floor(Math.random()*4);let i="";switch(n){case 0:i="<p>车 →→→ 你</p>";break;case 1:i="<p>你 ←←← 车</p>";break;case 2:i=`
      <p style="text-align: center;">  车</p>
      <p style="text-align: center;">  ↓</p>
      <p style="text-align: center;">  你</p>`;break;case 3:i=`
      <p style="text-align: center;">  你</p>
      <p style="text-align: center;">  ↑</p>
      <p style="text-align: center;">  车</p>`;break}t.innerHTML=`
  <h1>躲避大卡车</h1>
  <p>一辆卡车正在向你快速驶来，请选择躲避方向</p>
  ${i}
  <button id="left-btn">向左躲避</button>
  <button id="right-btn">向右躲避</button>
`,(r=document.getElementById("left-btn"))==null||r.addEventListener("click",()=>{Math.random()>.3?wi(e):Nr(e)}),(s=document.getElementById("right-btn"))==null||s.addEventListener("click",()=>{Math.random()>.3?wi(e):Nr(e)})}function Nr(e){var n;const t=Ct();t.innerHTML=`
    <h1>躲避大卡车</h1>
    <p>躲避失败，你嗝屁了</p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{zi(e)})}function zi(e){var n;const t=Ct();t.innerHTML=`
    <h1>???</h1>
    <p>请输入你的名字</p>
    <input type="text" id="name-input" placeholder="${e.name}">
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{const r=document.getElementById("name-input").value.trim();r?(e.name=r,Au(e)):alert("请输入你的名字！")})}function Au(e){var n;const t=Ct();t.innerHTML=`
    <h1>???</h1>
    <p>你睁开了眼睛，发现自己好像身处一片池沼之中</p>
    <p>周围的一切都显得那么陌生，充满了异世界风情</p>
    <p>看着远处地上缓慢蠕动的史莱姆，你总算相信自己穿越了</p>
    <button id="continue-btn">继续</button>
  `,(n=document.getElementById("continue-btn"))==null||n.addEventListener("click",()=>{Vt(e),nn(e)})}document.addEventListener("DOMContentLoaded",()=>{let e;try{e=oo()}catch(t){console.log(t),localStorage.clear(),yu();return}nn(e)});
